!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Elucidator=t()}}((function(){return function t(e,n,r){function s(a,o){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(i)return i(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return s(e[a][1][t]||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(t,e,n){!function(t){"use strict";
/*!
         *  decimal.js v10.4.3
         *  An arbitrary-precision Decimal type for JavaScript.
         *  https://github.com/MikeMcl/decimal.js
         *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
         *  MIT Licence
         */var n,r,s,i,a=9e15,o=1e9,u="0123456789abcdef",p="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",c="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",l={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-a,maxE:a,crypto:!1},h=!0,d="[DecimalError] ",f=d+"Invalid argument: ",g=d+"Precision limit exceeded",y=d+"crypto unavailable",O="[object Decimal]",m=Math.floor,b=Math.pow,S=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,N=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,I=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,w=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,j=1e7,v=7,M=p.length-1,P=c.length-1,A={toStringTag:O};function x(t){var e,n,r,s=t.length-1,i="",a=t[0];if(s>0){for(i+=a,e=1;e<s;e++)r=t[e]+"",(n=v-r.length)&&(i+=k(n)),i+=r;a=t[e],(n=v-(r=a+"").length)&&(i+=k(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return i+a}function D(t,e,n){if(t!==~~t||t<e||t>n)throw Error(f+t)}function H(t,e,n,r){var s,i,a,o;for(i=t[0];i>=10;i/=10)--e;return--e<0?(e+=v,s=0):(s=Math.ceil((e+1)/v),e%=v),i=b(10,v-e),o=t[s]%i|0,null==r?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),a=n<4&&99999==o||n>3&&49999==o||5e4==o||0==o):a=(n<4&&o+1==i||n>3&&o+1==i/2)&&(t[s+1]/i/100|0)==b(10,e-2)-1||(o==i/2||0==o)&&0==(t[s+1]/i/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),a=(r||n<4)&&9999==o||!r&&n>3&&4999==o):a=((r||n<4)&&o+1==i||!r&&n>3&&o+1==i/2)&&(t[s+1]/i/1e3|0)==b(10,e-3)-1,a}function E(t,e,n){for(var r,s,i=[0],a=0,o=t.length;a<o;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=u.indexOf(t.charAt(a++)),r=0;r<i.length;r++)i[r]>n-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}A.absoluteValue=A.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),T(t)},A.ceil=function(){return T(new this.constructor(this),this.e+1,2)},A.clampedTo=A.clamp=function(t,e){var n=this,r=n.constructor;if(t=new r(t),e=new r(e),!t.s||!e.s)return new r(NaN);if(t.gt(e))throw Error(f+e);return n.cmp(t)<0?t:n.cmp(e)>0?e:new r(n)},A.comparedTo=A.cmp=function(t){var e,n,r,s,i=this,a=i.d,o=(t=new i.constructor(t)).d,u=i.s,p=t.s;if(!a||!o)return u&&p?u!==p?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-p:0;if(u!==p)return u;if(i.e!==t.e)return i.e>t.e^u<0?1:-1;for(e=0,n=(r=a.length)<(s=o.length)?r:s;e<n;++e)if(a[e]!==o[e])return a[e]>o[e]^u<0?1:-1;return r===s?0:r>s^u<0?1:-1},A.cosine=A.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+v,r.rounding=1,n=function(t,e){var n,r,s;if(e.isZero())return e;r=e.d.length,r<32?s=(1/Q(4,n=Math.ceil(r/3))).toString():(n=16,s="2.3283064365386962890625e-10");t.precision+=n,e=Z(t,1,e.times(s),new t(1));for(var i=n;i--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}(r,K(r,n)),r.precision=t,r.rounding=e,T(2==i||3==i?n.neg():n,t,e,!0)):new r(1):new r(NaN)},A.cubeRoot=A.cbrt=function(){var t,e,n,r,s,i,a,o,u,p,c=this,l=c.constructor;if(!c.isFinite()||c.isZero())return new l(c);for(h=!1,(i=c.s*b(c.s*c,1/3))&&Math.abs(i)!=1/0?r=new l(i.toString()):(n=x(c.d),(i=((t=c.e)-n.length+1)%3)&&(n+=1==i||-2==i?"0":"00"),i=b(n,1/3),t=m((t+1)/3)-(t%3==(t<0?-1:2)),(r=new l(n=i==1/0?"5e"+t:(n=i.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=c.s),a=(t=l.precision)+3;;)if(p=(u=(o=r).times(o).times(o)).plus(c),r=V(p.plus(c).times(o),p.plus(u),a+2,1),x(o.d).slice(0,a)===(n=x(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(s||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(T(r,t+1,1),e=!r.times(r).times(r).eq(c));break}if(!s&&(T(o,t+1,0),o.times(o).times(o).eq(c))){r=o;break}a+=4,s=1}return h=!0,T(r,t,l.rounding,e)},A.decimalPlaces=A.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=((t=e.length-1)-m(this.e/v))*v,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},A.dividedBy=A.div=function(t){return V(this,new this.constructor(t))},A.dividedToIntegerBy=A.divToInt=function(t){var e=this.constructor;return T(V(this,new e(t),0,1,1),e.precision,e.rounding)},A.equals=A.eq=function(t){return 0===this.cmp(t)},A.floor=function(){return T(new this.constructor(this),this.e+1,3)},A.greaterThan=A.gt=function(t){return this.cmp(t)>0},A.greaterThanOrEqualTo=A.gte=function(t){var e=this.cmp(t);return 1==e||0===e},A.hyperbolicCosine=A.cosh=function(){var t,e,n,r,s,i=this,a=i.constructor,o=new a(1);if(!i.isFinite())return new a(i.s?1/0:NaN);if(i.isZero())return o;n=a.precision,r=a.rounding,a.precision=n+Math.max(i.e,i.sd())+4,a.rounding=1,(s=i.d.length)<32?e=(1/Q(4,t=Math.ceil(s/3))).toString():(t=16,e="2.3283064365386962890625e-10"),i=Z(a,1,i.times(e),new a(1),!0);for(var u,p=t,c=new a(8);p--;)u=i.times(i),i=o.minus(u.times(c.minus(u.times(c))));return T(i,a.precision=n,a.rounding=r,!0)},A.hyperbolicSine=A.sinh=function(){var t,e,n,r,s=this,i=s.constructor;if(!s.isFinite()||s.isZero())return new i(s);if(e=i.precision,n=i.rounding,i.precision=e+Math.max(s.e,s.sd())+4,i.rounding=1,(r=s.d.length)<3)s=Z(i,2,s,s,!0);else{t=(t=1.4*Math.sqrt(r))>16?16:0|t,s=Z(i,2,s=s.times(1/Q(5,t)),s,!0);for(var a,o=new i(5),u=new i(16),p=new i(20);t--;)a=s.times(s),s=s.times(o.plus(a.times(u.times(a).plus(p))))}return i.precision=e,i.rounding=n,T(s,e,n,!0)},A.hyperbolicTangent=A.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,V(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},A.inverseCosine=A.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),s=n.precision,i=n.rounding;return-1!==r?0===r?e.isNeg()?C(n,s,i):new n(0):new n(NaN):e.isZero()?C(n,s+4,i).times(.5):(n.precision=s+6,n.rounding=1,e=e.asin(),t=C(n,s+4,i).times(.5),n.precision=s,n.rounding=i,t.minus(e))},A.inverseHyperbolicCosine=A.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,h=!1,n=n.times(n).minus(1).sqrt().plus(n),h=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},A.inverseHyperbolicSine=A.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,h=!1,n=n.times(n).plus(1).sqrt().plus(n),h=!0,r.precision=t,r.rounding=e,n.ln())},A.inverseHyperbolicTangent=A.atanh=function(){var t,e,n,r,s=this,i=s.constructor;return s.isFinite()?s.e>=0?new i(s.abs().eq(1)?s.s/0:s.isZero()?s:NaN):(t=i.precision,e=i.rounding,r=s.sd(),Math.max(r,t)<2*-s.e-1?T(new i(s),t,e,!0):(i.precision=n=r-s.e,s=V(s.plus(1),new i(1).minus(s),n+t,1),i.precision=t+4,i.rounding=1,s=s.ln(),i.precision=t,i.rounding=e,s.times(.5))):new i(NaN)},A.inverseSine=A.asin=function(){var t,e,n,r,s=this,i=s.constructor;return s.isZero()?new i(s):(e=s.abs().cmp(1),n=i.precision,r=i.rounding,-1!==e?0===e?((t=C(i,n+4,r).times(.5)).s=s.s,t):new i(NaN):(i.precision=n+6,i.rounding=1,s=s.div(new i(1).minus(s.times(s)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,s.times(2)))},A.inverseTangent=A.atan=function(){var t,e,n,r,s,i,a,o,u,p=this,c=p.constructor,l=c.precision,d=c.rounding;if(p.isFinite()){if(p.isZero())return new c(p);if(p.abs().eq(1)&&l+4<=P)return(a=C(c,l+4,d).times(.25)).s=p.s,a}else{if(!p.s)return new c(NaN);if(l+4<=P)return(a=C(c,l+4,d).times(.5)).s=p.s,a}for(c.precision=o=l+10,c.rounding=1,t=n=Math.min(28,o/v+2|0);t;--t)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(h=!1,e=Math.ceil(o/v),r=1,u=p.times(p),a=new c(p),s=p;-1!==t;)if(s=s.times(u),i=a.minus(s.div(r+=2)),s=s.times(u),void 0!==(a=i.plus(s.div(r+=2))).d[e])for(t=e;a.d[t]===i.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),h=!0,T(a,c.precision=l,c.rounding=d,!0)},A.isFinite=function(){return!!this.d},A.isInteger=A.isInt=function(){return!!this.d&&m(this.e/v)>this.d.length-2},A.isNaN=function(){return!this.s},A.isNegative=A.isNeg=function(){return this.s<0},A.isPositive=A.isPos=function(){return this.s>0},A.isZero=function(){return!!this.d&&0===this.d[0]},A.lessThan=A.lt=function(t){return this.cmp(t)<0},A.lessThanOrEqualTo=A.lte=function(t){return this.cmp(t)<1},A.logarithm=A.log=function(t){var e,n,r,s,i,a,o,u,p=this,c=p.constructor,l=c.precision,d=c.rounding;if(null==t)t=new c(10),e=!0;else{if(n=(t=new c(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=p.d,p.s<0||!n||!n[0]||p.eq(1))return new c(n&&!n[0]?-1/0:1!=p.s?NaN:n?0:1/0);if(e)if(n.length>1)i=!0;else{for(s=n[0];s%10==0;)s/=10;i=1!==s}if(h=!1,a=q(p,o=l+5),r=e?L(c,o+10):q(t,o),H((u=V(a,r,o,1)).d,s=l,d))do{if(a=q(p,o+=10),r=e?L(c,o+10):q(t,o),u=V(a,r,o,1),!i){+x(u.d).slice(s+1,s+15)+1==1e14&&(u=T(u,l+1,0));break}}while(H(u.d,s+=10,d));return h=!0,T(u,l,d)},A.minus=A.sub=function(t){var e,n,r,s,i,a,o,u,p,c,l,d,f=this,g=f.constructor;if(t=new g(t),!f.d||!t.d)return f.s&&t.s?f.d?t.s=-t.s:t=new g(t.d||f.s!==t.s?f:NaN):t=new g(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.plus(t);if(p=f.d,d=t.d,o=g.precision,u=g.rounding,!p[0]||!d[0]){if(d[0])t.s=-t.s;else{if(!p[0])return new g(3===u?-0:0);t=new g(f)}return h?T(t,o,u):t}if(n=m(t.e/v),c=m(f.e/v),p=p.slice(),i=c-n){for((l=i<0)?(e=p,i=-i,a=d.length):(e=d,n=c,a=p.length),i>(r=Math.max(Math.ceil(o/v),a)+2)&&(i=r,e.length=1),e.reverse(),r=i;r--;)e.push(0);e.reverse()}else{for((l=(r=p.length)<(a=d.length))&&(a=r),r=0;r<a;r++)if(p[r]!=d[r]){l=p[r]<d[r];break}i=0}for(l&&(e=p,p=d,d=e,t.s=-t.s),a=p.length,r=d.length-a;r>0;--r)p[a++]=0;for(r=d.length;r>i;){if(p[--r]<d[r]){for(s=r;s&&0===p[--s];)p[s]=j-1;--p[s],p[r]+=j}p[r]-=d[r]}for(;0===p[--a];)p.pop();for(;0===p[0];p.shift())--n;return p[0]?(t.d=p,t.e=_(p,n),h?T(t,o,u):t):new g(3===u?-0:0)},A.modulo=A.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?T(new r(n),r.precision,r.rounding):(h=!1,9==r.modulo?(e=V(n,t.abs(),0,3,1)).s*=t.s:e=V(n,t,0,r.modulo,1),e=e.times(t),h=!0,n.minus(e))},A.naturalExponential=A.exp=function(){return W(this)},A.naturalLogarithm=A.ln=function(){return q(this)},A.negated=A.neg=function(){var t=new this.constructor(this);return t.s=-t.s,T(t)},A.plus=A.add=function(t){var e,n,r,s,i,a,o,u,p,c,l=this,d=l.constructor;if(t=new d(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new d(t.d||l.s===t.s?l:NaN)):t=new d(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(p=l.d,c=t.d,o=d.precision,u=d.rounding,!p[0]||!c[0])return c[0]||(t=new d(l)),h?T(t,o,u):t;if(i=m(l.e/v),r=m(t.e/v),p=p.slice(),s=i-r){for(s<0?(n=p,s=-s,a=c.length):(n=c,r=i,a=p.length),s>(a=(i=Math.ceil(o/v))>a?i+1:a+1)&&(s=a,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for((a=p.length)-(s=c.length)<0&&(s=a,n=c,c=p,p=n),e=0;s;)e=(p[--s]=p[s]+c[s]+e)/j|0,p[s]%=j;for(e&&(p.unshift(e),++r),a=p.length;0==p[--a];)p.pop();return t.d=p,t.e=_(p,r),h?T(t,o,u):t},A.precision=A.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(f+t);return n.d?(e=R(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},A.round=function(){var t=this,e=t.constructor;return T(new e(t),t.e+1,e.rounding)},A.sine=A.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+v,r.rounding=1,n=function(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:Z(t,2,e,e);n=(n=1.4*Math.sqrt(r))>16?16:0|n,e=e.times(1/Q(5,n)),e=Z(t,2,e,e);for(var s,i=new t(5),a=new t(16),o=new t(20);n--;)s=e.times(e),e=e.times(i.plus(s.times(a.times(s).minus(o))));return e}(r,K(r,n)),r.precision=t,r.rounding=e,T(i>2?n.neg():n,t,e,!0)):new r(NaN)},A.squareRoot=A.sqrt=function(){var t,e,n,r,s,i,a=this,o=a.d,u=a.e,p=a.s,c=a.constructor;if(1!==p||!o||!o[0])return new c(!p||p<0&&(!o||o[0])?NaN:o?a:1/0);for(h=!1,0==(p=Math.sqrt(+a))||p==1/0?(((e=x(o)).length+u)%2==0&&(e+="0"),p=Math.sqrt(e),u=m((u+1)/2)-(u<0||u%2),r=new c(e=p==1/0?"5e"+u:(e=p.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new c(p.toString()),n=(u=c.precision)+3;;)if(r=(i=r).plus(V(a,i,n+2,1)).times(.5),x(i.d).slice(0,n)===(e=x(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(s||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(T(r,u+1,1),t=!r.times(r).eq(a));break}if(!s&&(T(i,u+1,0),i.times(i).eq(a))){r=i;break}n+=4,s=1}return h=!0,T(r,u,c.rounding,t)},A.tangent=A.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=V(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,T(2==i||4==i?n.neg():n,t,e,!0)):new r(NaN)},A.times=A.mul=function(t){var e,n,r,s,i,a,o,u,p,c=this,l=c.constructor,d=c.d,f=(t=new l(t)).d;if(t.s*=c.s,!(d&&d[0]&&f&&f[0]))return new l(!t.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:d&&f?0*t.s:t.s/0);for(n=m(c.e/v)+m(t.e/v),(u=d.length)<(p=f.length)&&(i=d,d=f,f=i,a=u,u=p,p=a),i=[],r=a=u+p;r--;)i.push(0);for(r=p;--r>=0;){for(e=0,s=u+r;s>r;)o=i[s]+f[r]*d[s-r-1]+e,i[s--]=o%j|0,e=o/j|0;i[s]=(i[s]+e)%j|0}for(;!i[--a];)i.pop();return e?++n:i.shift(),t.d=i,t.e=_(i,n),h?T(t,l.precision,l.rounding):t},A.toBinary=function(t,e){return X(this,2,t,e)},A.toDecimalPlaces=A.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(D(t,0,o),void 0===e?e=r.rounding:D(e,0,8),T(n,t+n.e+1,e))},A.toExponential=function(t,e){var n,r=this,s=r.constructor;return void 0===t?n=$(r,!0):(D(t,0,o),void 0===e?e=s.rounding:D(e,0,8),n=$(r=T(new s(r),t+1,e),!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},A.toFixed=function(t,e){var n,r,s=this,i=s.constructor;return void 0===t?n=$(s):(D(t,0,o),void 0===e?e=i.rounding:D(e,0,8),n=$(r=T(new i(s),t+s.e+1,e),!1,t+r.e+1)),s.isNeg()&&!s.isZero()?"-"+n:n},A.toFraction=function(t){var e,n,r,s,i,a,o,u,p,c,l,d,g=this,y=g.d,O=g.constructor;if(!y)return new O(g);if(p=n=new O(1),r=u=new O(0),a=(i=(e=new O(r)).e=R(y)-g.e-1)%v,e.d[0]=b(10,a<0?v+a:a),null==t)t=i>0?e:p;else{if(!(o=new O(t)).isInt()||o.lt(p))throw Error(f+o);t=o.gt(e)?i>0?e:p:o}for(h=!1,o=new O(x(y)),c=O.precision,O.precision=i=y.length*v*2;l=V(o,e,0,1,1),1!=(s=n.plus(l.times(r))).cmp(t);)n=r,r=s,s=p,p=u.plus(l.times(s)),u=s,s=e,e=o.minus(l.times(s)),o=s;return s=V(t.minus(n),r,0,1,1),u=u.plus(s.times(p)),n=n.plus(s.times(r)),u.s=p.s=g.s,d=V(p,r,i,1).minus(g).abs().cmp(V(u,n,i,1).minus(g).abs())<1?[p,r]:[u,n],O.precision=c,h=!0,d},A.toHexadecimal=A.toHex=function(t,e){return X(this,16,t,e)},A.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:D(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(h=!1,n=V(n,t,0,e,1).times(t),h=!0,T(n)):(t.s=n.s,n=t),n},A.toNumber=function(){return+this},A.toOctal=function(t,e){return X(this,8,t,e)},A.toPower=A.pow=function(t){var e,n,r,s,i,a,o=this,u=o.constructor,p=+(t=new u(t));if(!(o.d&&t.d&&o.d[0]&&t.d[0]))return new u(b(+o,p));if((o=new u(o)).eq(1))return o;if(r=u.precision,i=u.rounding,t.eq(1))return T(o,r,i);if((e=m(t.e/v))>=t.d.length-1&&(n=p<0?-p:p)<=9007199254740991)return s=B(u,o,n,r),t.s<0?new u(1).div(s):T(s,r,i);if((a=o.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=a,o}return(e=0!=(n=b(+o,p))&&isFinite(n)?new u(n+"").e:m(p*(Math.log("0."+x(o.d))/Math.LN10+o.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(h=!1,u.rounding=o.s=1,n=Math.min(12,(e+"").length),(s=W(t.times(q(o,r+n)),r)).d&&H((s=T(s,r+5,1)).d,r,i)&&(e=r+10,+x((s=T(W(t.times(q(o,e+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(s=T(s,r+1,0))),s.s=a,h=!0,u.rounding=i,T(s,r,i))},A.toPrecision=function(t,e){var n,r=this,s=r.constructor;return void 0===t?n=$(r,r.e<=s.toExpNeg||r.e>=s.toExpPos):(D(t,1,o),void 0===e?e=s.rounding:D(e,0,8),n=$(r=T(new s(r),t,e),t<=r.e||r.e<=s.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},A.toSignificantDigits=A.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(D(t,1,o),void 0===e?e=n.rounding:D(e,0,8)),T(new n(this),t,e)},A.toString=function(){var t=this,e=t.constructor,n=$(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},A.truncated=A.trunc=function(){return T(new this.constructor(this),this.e+1,1)},A.valueOf=A.toJSON=function(){var t=this,e=t.constructor,n=$(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var V=function(){function t(t,e,n){var r,s=0,i=t.length;for(t=t.slice();i--;)r=t[i]*e+s,t[i]=r%n|0,s=r/n|0;return s&&t.unshift(s),t}function e(t,e,n,r){var s,i;if(n!=r)i=n>r?1:-1;else for(s=i=0;s<n;s++)if(t[s]!=e[s]){i=t[s]>e[s]?1:-1;break}return i}function n(t,e,n,r){for(var s=0;n--;)t[n]-=s,s=t[n]<e[n]?1:0,t[n]=s*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(s,i,a,o,u,p){var c,l,h,d,f,g,y,O,b,S,N,I,w,M,P,A,x,D,H,E,V=s.constructor,$=s.s==i.s?1:-1,_=s.d,L=i.d;if(!(_&&_[0]&&L&&L[0]))return new V(s.s&&i.s&&(_?!L||_[0]!=L[0]:L)?_&&0==_[0]||!L?0*$:$/0:NaN);for(p?(f=1,l=s.e-i.e):(p=j,f=v,l=m(s.e/f)-m(i.e/f)),H=L.length,x=_.length,S=(b=new V($)).d=[],h=0;L[h]==(_[h]||0);h++);if(L[h]>(_[h]||0)&&l--,null==a?(M=a=V.precision,o=V.rounding):M=u?a+(s.e-i.e)+1:a,M<0)S.push(1),g=!0;else{if(M=M/f+2|0,h=0,1==H){for(d=0,L=L[0],M++;(h<x||d)&&M--;h++)P=d*p+(_[h]||0),S[h]=P/L|0,d=P%L|0;g=d||h<x}else{for((d=p/(L[0]+1)|0)>1&&(L=t(L,d,p),_=t(_,d,p),H=L.length,x=_.length),A=H,I=(N=_.slice(0,H)).length;I<H;)N[I++]=0;(E=L.slice()).unshift(0),D=L[0],L[1]>=p/2&&++D;do{d=0,(c=e(L,N,H,I))<0?(w=N[0],H!=I&&(w=w*p+(N[1]||0)),(d=w/D|0)>1?(d>=p&&(d=p-1),1==(c=e(y=t(L,d,p),N,O=y.length,I=N.length))&&(d--,n(y,H<O?E:L,O,p))):(0==d&&(c=d=1),y=L.slice()),(O=y.length)<I&&y.unshift(0),n(N,y,I,p),-1==c&&(c=e(L,N,H,I=N.length))<1&&(d++,n(N,H<I?E:L,I,p)),I=N.length):0===c&&(d++,N=[0]),S[h++]=d,c&&N[0]?N[I++]=_[A]||0:(N=[_[A]],I=1)}while((A++<x||void 0!==N[0])&&M--);g=void 0!==N[0]}S[0]||S.shift()}if(1==f)b.e=l,r=g;else{for(h=1,d=S[0];d>=10;d/=10)h++;b.e=h+l*f-1,T(b,u?a+b.e+1:a,o,g)}return b}}();function T(t,e,n,r){var s,i,a,o,u,p,c,l,d,f=t.constructor;t:if(null!=e){if(!(l=t.d))return t;for(s=1,o=l[0];o>=10;o/=10)s++;if((i=e-s)<0)i+=v,a=e,u=(c=l[d=0])/b(10,s-a-1)%10|0;else if((d=Math.ceil((i+1)/v))>=(o=l.length)){if(!r)break t;for(;o++<=d;)l.push(0);c=u=0,s=1,a=(i%=v)-v+1}else{for(c=o=l[d],s=1;o>=10;o/=10)s++;u=(a=(i%=v)-v+s)<0?0:c/b(10,s-a-1)%10|0}if(r=r||e<0||void 0!==l[d+1]||(a<0?c:c%b(10,s-a-1)),p=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(i>0?a>0?c/b(10,s-a):0:l[d-1])%10&1||n==(t.s<0?8:7)),e<1||!l[0])return l.length=0,p?(e-=t.e+1,l[0]=b(10,(v-e%v)%v),t.e=-e||0):l[0]=t.e=0,t;if(0==i?(l.length=d,o=1,d--):(l.length=d+1,o=b(10,v-i),l[d]=a>0?(c/b(10,s-a)%b(10,a)|0)*o:0),p)for(;;){if(0==d){for(i=1,a=l[0];a>=10;a/=10)i++;for(a=l[0]+=o,o=1;a>=10;a/=10)o++;i!=o&&(t.e++,l[0]==j&&(l[0]=1));break}if(l[d]+=o,l[d]!=j)break;l[d--]=0,o=1}for(i=l.length;0===l[--i];)l.pop()}return h&&(t.e>f.maxE?(t.d=null,t.e=NaN):t.e<f.minE&&(t.e=0,t.d=[0])),t}function $(t,e,n){if(!t.isFinite())return G(t);var r,s=t.e,i=x(t.d),a=i.length;return e?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+k(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(t.e<0?"e":"e+")+t.e):s<0?(i="0."+k(-s-1)+i,n&&(r=n-a)>0&&(i+=k(r))):s>=a?(i+=k(s+1-a),n&&(r=n-s-1)>0&&(i=i+"."+k(r))):((r=s+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(s+1===a&&(i+="."),i+=k(r))),i}function _(t,e){var n=t[0];for(e*=v;n>=10;n/=10)e++;return e}function L(t,e,n){if(e>M)throw h=!0,n&&(t.precision=n),Error(g);return T(new t(p),e,1,!0)}function C(t,e,n){if(e>P)throw Error(g);return T(new t(c),e,n,!0)}function R(t){var e=t.length-1,n=e*v+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function k(t){for(var e="";t--;)e+="0";return e}function B(t,e,n,r){var s,i=new t(1),a=Math.ceil(r/v+4);for(h=!1;;){if(n%2&&Y((i=i.times(e)).d,a)&&(s=!0),0===(n=m(n/2))){n=i.d.length-1,s&&0===i.d[n]&&++i.d[n];break}Y((e=e.times(e)).d,a)}return h=!0,i}function U(t){return 1&t.d[t.d.length-1]}function F(t,e,n){for(var r,s=new t(e[0]),i=0;++i<e.length;){if(!(r=new t(e[i])).s){s=r;break}s[n](r)&&(s=r)}return s}function W(t,e){var n,r,s,i,a,o,u,p=0,c=0,l=0,d=t.constructor,f=d.rounding,g=d.precision;if(!t.d||!t.d[0]||t.e>17)return new d(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(h=!1,u=g):u=e,o=new d(.03125);t.e>-2;)t=t.times(o),l+=5;for(u+=r=Math.log(b(2,l))/Math.LN10*2+5|0,n=i=a=new d(1),d.precision=u;;){if(i=T(i.times(t),u,1),n=n.times(++c),x((o=a.plus(V(i,n,u,1))).d).slice(0,u)===x(a.d).slice(0,u)){for(s=l;s--;)a=T(a.times(a),u,1);if(null!=e)return d.precision=g,a;if(!(p<3&&H(a.d,u-r,f,p)))return T(a,d.precision=g,f,h=!0);d.precision=u+=10,n=i=o=new d(1),c=0,p++}a=o}}function q(t,e){var n,r,s,i,a,o,u,p,c,l,d,f=1,g=t,y=g.d,O=g.constructor,m=O.rounding,b=O.precision;if(g.s<0||!y||!y[0]||!g.e&&1==y[0]&&1==y.length)return new O(y&&!y[0]?-1/0:1!=g.s?NaN:y?0:g);if(null==e?(h=!1,c=b):c=e,O.precision=c+=10,r=(n=x(y)).charAt(0),!(Math.abs(i=g.e)<15e14))return p=L(O,c+2,b).times(i+""),g=q(new O(r+"."+n.slice(1)),c-10).plus(p),O.precision=b,null==e?T(g,b,m,h=!0):g;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((g=g.times(t)).d)).charAt(0),f++;for(i=g.e,r>1?(g=new O("0."+n),i++):g=new O(r+"."+n.slice(1)),l=g,u=a=g=V(g.minus(1),g.plus(1),c,1),d=T(g.times(g),c,1),s=3;;){if(a=T(a.times(d),c,1),x((p=u.plus(V(a,new O(s),c,1))).d).slice(0,c)===x(u.d).slice(0,c)){if(u=u.times(2),0!==i&&(u=u.plus(L(O,c+2,b).times(i+""))),u=V(u,new O(f),c,1),null!=e)return O.precision=b,u;if(!H(u.d,c-10,m,o))return T(u,O.precision=b,m,h=!0);O.precision=c+=10,p=a=g=V(l.minus(1),l.plus(1),c,1),d=T(g.times(g),c,1),s=o=1}u=p,s+=2}}function G(t){return String(t.s*t.s/0)}function J(t,e){var n,r,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(s=e.length;48===e.charCodeAt(s-1);--s);if(e=e.slice(r,s)){if(s-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%v,n<0&&(r+=v),r<s){for(r&&t.d.push(+e.slice(0,r)),s-=v;r<s;)t.d.push(+e.slice(r,r+=v));e=e.slice(r),r=v-e.length}else r-=s;for(;r--;)e+="0";t.d.push(+e),h&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function z(t,e){var r,s,i,a,o,u,p,c,l;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),w.test(e))return J(t,e)}else if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(N.test(e))r=16,e=e.toLowerCase();else if(S.test(e))r=2;else{if(!I.test(e))throw Error(f+e);r=8}for((a=e.search(/p/i))>0?(p=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),o=(a=e.indexOf("."))>=0,s=t.constructor,o&&(a=(u=(e=e.replace(".","")).length)-a,i=B(s,new s(r),a,2*a)),a=l=(c=E(e,r,j)).length-1;0===c[a];--a)c.pop();return a<0?new s(0*t.s):(t.e=_(c,l),t.d=c,h=!1,o&&(t=V(t,i,4*u)),p&&(t=t.times(Math.abs(p)<54?b(2,p):n.pow(2,p))),h=!0,t)}function Z(t,e,n,r,s){var i,a,o,u,p=t.precision,c=Math.ceil(p/v);for(h=!1,u=n.times(n),o=new t(r);;){if(a=V(o.times(u),new t(e++*e++),p,1),o=s?r.plus(a):r.minus(a),r=V(a.times(u),new t(e++*e++),p,1),void 0!==(a=o.plus(r)).d[c]){for(i=c;a.d[i]===o.d[i]&&i--;);if(-1==i)break}i=o,o=r,r=a,a=i}return h=!0,a.d.length=c+1,a}function Q(t,e){for(var n=t;--e;)n*=t;return n}function K(t,e){var n,r=e.s<0,s=C(t,t.precision,1),a=s.times(.5);if((e=e.abs()).lte(a))return i=r?4:1,e;if((n=e.divToInt(s)).isZero())i=r?3:2;else{if((e=e.minus(n.times(s))).lte(a))return i=U(n)?r?2:3:r?4:1,e;i=U(n)?r?1:4:r?3:2}return e.minus(s).abs()}function X(t,e,n,s){var i,a,p,c,l,h,d,f,g,y=t.constructor,O=void 0!==n;if(O?(D(n,1,o),void 0===s?s=y.rounding:D(s,0,8)):(n=y.precision,s=y.rounding),t.isFinite()){for(O?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,(p=(d=$(t)).indexOf("."))>=0&&(d=d.replace(".",""),(g=new y(1)).e=d.length-p,g.d=E($(g),10,i),g.e=g.d.length),a=l=(f=E(d,10,i)).length;0==f[--l];)f.pop();if(f[0]){if(p<0?a--:((t=new y(t)).d=f,t.e=a,f=(t=V(t,g,n,s,0,i)).d,a=t.e,h=r),p=f[n],c=i/2,h=h||void 0!==f[n+1],h=s<4?(void 0!==p||h)&&(0===s||s===(t.s<0?3:2)):p>c||p===c&&(4===s||h||6===s&&1&f[n-1]||s===(t.s<0?8:7)),f.length=n,h)for(;++f[--n]>i-1;)f[n]=0,n||(++a,f.unshift(1));for(l=f.length;!f[l-1];--l);for(p=0,d="";p<l;p++)d+=u.charAt(f[p]);if(O){if(l>1)if(16==e||8==e){for(p=16==e?4:3,--l;l%p;l++)d+="0";for(l=(f=E(d,i,e)).length;!f[l-1];--l);for(p=1,d="1.";p<l;p++)d+=u.charAt(f[p])}else d=d.charAt(0)+"."+d.slice(1);d=d+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)d="0"+d;d="0."+d}else if(++a>l)for(a-=l;a--;)d+="0";else a<l&&(d=d.slice(0,a)+"."+d.slice(a))}else d=O?"0p+0":"0";d=(16==e?"0x":2==e?"0b":8==e?"0o":"")+d}else d=G(t);return t.s<0?"-"+d:d}function Y(t,e){if(t.length>e)return t.length=e,!0}function tt(t){return new this(t).abs()}function et(t){return new this(t).acos()}function nt(t){return new this(t).acosh()}function rt(t,e){return new this(t).plus(e)}function st(t){return new this(t).asin()}function it(t){return new this(t).asinh()}function at(t){return new this(t).atan()}function ot(t){return new this(t).atanh()}function ut(t,e){t=new this(t),e=new this(e);var n,r=this.precision,s=this.rounding,i=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?C(this,r,s):new this(0)).s=t.s:!t.d||e.isZero()?(n=C(this,i,1).times(.5)).s=t.s:e.s<0?(this.precision=i,this.rounding=1,n=this.atan(V(t,e,i,1)),e=C(this,i,1),this.precision=r,this.rounding=s,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(V(t,e,i,1)):(n=C(this,i,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function pt(t){return new this(t).cbrt()}function ct(t){return T(t=new this(t),t.e+1,2)}function lt(t,e,n){return new this(t).clamp(e,n)}function ht(t){if(!t||"object"!=typeof t)throw Error(d+"Object expected");var e,n,r,s=!0===t.defaults,i=["precision",1,o,"rounding",0,8,"toExpNeg",-a,0,"toExpPos",0,a,"maxE",0,a,"minE",-a,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(n=i[e],s&&(this[n]=l[n]),void 0!==(r=t[n])){if(!(m(r)===r&&r>=i[e+1]&&r<=i[e+2]))throw Error(f+n+": "+r);this[n]=r}if(n="crypto",s&&(this[n]=l[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(f+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(y);this[n]=!0}else this[n]=!1}return this}function dt(t){return new this(t).cos()}function ft(t){return new this(t).cosh()}function gt(t,e){return new this(t).div(e)}function yt(t){return new this(t).exp()}function Ot(t){return T(t=new this(t),t.e+1,3)}function mt(){var t,e,n=new this(0);for(h=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return h=!0,new this(1/0);n=e}return h=!0,n.sqrt()}function bt(t){return t instanceof n||t&&t.toStringTag===O||!1}function St(t){return new this(t).ln()}function Nt(t,e){return new this(t).log(e)}function It(t){return new this(t).log(2)}function wt(t){return new this(t).log(10)}function jt(){return F(this,arguments,"lt")}function vt(){return F(this,arguments,"gt")}function Mt(t,e){return new this(t).mod(e)}function Pt(t,e){return new this(t).mul(e)}function At(t,e){return new this(t).pow(e)}function xt(t){var e,n,r,s,i=0,a=new this(1),u=[];if(void 0===t?t=this.precision:D(t,1,o),r=Math.ceil(t/v),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));i<r;)(s=e[i])>=429e7?e[i]=crypto.getRandomValues(new Uint32Array(1))[0]:u[i++]=s%1e7;else{if(!crypto.randomBytes)throw Error(y);for(e=crypto.randomBytes(r*=4);i<r;)(s=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+((127&e[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,i):(u.push(s%1e7),i+=4);i=r/4}else for(;i<r;)u[i++]=1e7*Math.random()|0;for(r=u[--i],t%=v,r&&t&&(s=b(10,v-t),u[i]=(r/s|0)*s);0===u[i];i--)u.pop();if(i<0)n=0,u=[0];else{for(n=-1;0===u[0];n-=v)u.shift();for(r=1,s=u[0];s>=10;s/=10)r++;r<v&&(n-=v-r)}return a.e=n,a.d=u,a}function Dt(t){return T(t=new this(t),t.e+1,this.rounding)}function Ht(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Et(t){return new this(t).sin()}function Vt(t){return new this(t).sinh()}function Tt(t){return new this(t).sqrt()}function $t(t,e){return new this(t).sub(e)}function _t(){var t=0,e=arguments,n=new this(e[t]);for(h=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return h=!0,T(n,this.precision,this.rounding)}function Lt(t){return new this(t).tan()}function Ct(t){return new this(t).tanh()}function Rt(t){return T(t=new this(t),t.e+1,1)}n=function t(e){var n,r,s;function i(t){var e,n,r,s=this;if(!(s instanceof i))return new i(t);if(s.constructor=i,bt(t))return s.s=t.s,void(h?!t.d||t.e>i.maxE?(s.e=NaN,s.d=null):t.e<i.minE?(s.e=0,s.d=[0]):(s.e=t.e,s.d=t.d.slice()):(s.e=t.e,s.d=t.d?t.d.slice():t.d));if("number"===(r=typeof t)){if(0===t)return s.s=1/t<0?-1:1,s.e=0,void(s.d=[0]);if(t<0?(t=-t,s.s=-1):s.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(h?e>i.maxE?(s.e=NaN,s.d=null):e<i.minE?(s.e=0,s.d=[0]):(s.e=e,s.d=[t]):(s.e=e,s.d=[t]))}return 0*t!=0?(t||(s.s=NaN),s.e=NaN,void(s.d=null)):J(s,t.toString())}if("string"!==r)throw Error(f+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),s.s=-1):(43===n&&(t=t.slice(1)),s.s=1),w.test(t)?J(s,t):z(s,t)}if(i.prototype=A,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=ht,i.clone=t,i.isDecimal=bt,i.abs=tt,i.acos=et,i.acosh=nt,i.add=rt,i.asin=st,i.asinh=it,i.atan=at,i.atanh=ot,i.atan2=ut,i.cbrt=pt,i.ceil=ct,i.clamp=lt,i.cos=dt,i.cosh=ft,i.div=gt,i.exp=yt,i.floor=Ot,i.hypot=mt,i.ln=St,i.log=Nt,i.log10=wt,i.log2=It,i.max=jt,i.min=vt,i.mod=Mt,i.mul=Pt,i.pow=At,i.random=xt,i.round=Dt,i.sign=Ht,i.sin=Et,i.sinh=Vt,i.sqrt=Tt,i.sub=$t,i.sum=_t,i.tan=Lt,i.tanh=Ct,i.trunc=Rt,void 0===e&&(e={}),e&&!0!==e.defaults)for(s=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<s.length;)e.hasOwnProperty(r=s[n++])||(e[r]=this[r]);return i.config(e),i}(l),n.prototype.constructor=n,n.default=n.Decimal=n,p=new n(p),c=new n(c),void 0!==e&&e.exports?("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(A[Symbol.for("nodejs.util.inspect.custom")]=A.toString,A[Symbol.toStringTag]="Decimal"),e.exports=n):(t||(t="undefined"!=typeof self&&self&&self.self==self?self:window),s=t.Decimal,n.noConflict=function(){return t.Decimal=s,n},t.Decimal=n)}(this)},{}],2:[function(t,e,n){e.exports=
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
class{constructor(t){this.elucidator=t,this.namespace="default"}initializeNamespace(t){"string"==typeof t&&(this.namespace=t),this.elucidator.instructionSets.hasOwnProperty(this.namespace)||(this.elucidator.instructionSets[this.namespace.toLowerCase()]={}),this.elucidator.operationSets.hasOwnProperty(this.namespace)||(this.elucidator.operationSets[this.namespace.toLowerCase()]={})}addInstruction(t,e){return"string"!=typeof t?(this.elucidator.logError("Attempted to add an instruction with an invalid hash; expected a string but the instruction hash type was "+typeof t),!1):"function"!=typeof e?(this.elucidator.logError("Attempted to add an instruction with an invalid function; expected a function but type was "+typeof e),!1):(this.elucidator.instructionSets[this.namespace.toLowerCase()][t]=e,!0)}initializeInstructions(){return this.addInstruction("noop",(t=>(t.logInfo("Executing a no-operation operation."),!0))),!0}addOperation(t,e){if("string"!=typeof t)return this.elucidator.logError("Attempted to add an operation with an invalid hash; expected a string but the operation hash type was "+typeof t,e),!1;if("object"!=typeof e)return this.elucidator.logError("Attempted to add an invalid operation; expected an object data type but the type was "+typeof e,e),!1;if(!e.hasOwnProperty("Description"))return this.elucidator.logError("Attempted to add an operation with an invalid description; no Description subobject set.",e),!1;if("object"!=typeof e.Description)return this.elucidator.logError(`Attempted to add an operation with an invalid description; Description subobject was not an object.  The type was ${typeof e.Description}.`,e),!1;if("string"!=typeof e.Description.Hash){if("string"!=typeof e.Description.Operation)return this.elucidator.logError("Attempted to add an operation with an invalid description; Description subobject did not contain a valid Hash which is required to call the operation.",e),!1;e.Description.Hash=e.Description.Operation}return"string"==typeof e.Description.Namespace&&e.Description.Namespace==this.namespace||(e.Description.Namespace=this.namespace),"string"!=typeof e.Description.Summary&&(e.Description.Summary=`[${e.Description.Namespace}] [${e.Description.Hash}] operation.`),e.hasOwnProperty("Inputs")||(e.Inputs={}),e.hasOwnProperty("Outputs")||(e.Outputs={}),e.hasOwnProperty("Steps")||(e.Steps=[]),"object"!=typeof e.Inputs?(this.elucidator.logError("Attempted to add an operation with an invalid Inputs object.",e),!1):"object"!=typeof e.Outputs?(this.elucidator.logError("Attempted to add an operation with an invalid Outputs object.",e),!1):Array.isArray(e.Steps)?(this.elucidator.operationSets[this.namespace.toLowerCase()][t.toLowerCase()]=e,!0):(this.elucidator.logError("Attempted to add an operation with an invalid Steps array.",e),!1)}initializeOperations(){return this.addOperation("noop",{Description:{Operation:"noop",Description:"No operation - no affect on any data."}}),!0}}},{}],3:[function(t,e,n){
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
const r=(t,e,n)=>{let r="string"==typeof t?t:"",s="string"==typeof n?n:"INFO";console.log(`[Elucidator:${s}] ${r}`),e&&console.log(JSON.stringify(e,null,4)+"\n")};e.exports={logToConsole:r,info:(t,e)=>{r(t,e,"Info")},warning:(t,e)=>{r(t,e,"Warning")},error:(t,e)=>{r(t,e,"Error")}}},{}],4:[function(t,e,n){
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
const r=t("./Elucidator-LogToConsole.js"),s=t("manyfest"),i=t("precedent"),a=t("./Elucidator-InstructionSet.js");e.exports=class{constructor(t,e,n){if(this.logInfo="function"==typeof e?e:r.info,this.logWarning="function"==typeof fWarningLog?fWarningLog:r.warning,this.logError="function"==typeof n?n:r.error,this.instructionSets={},this.operationSets={},this.UUID=0,this.loadDefaultInstructionSets(),t){let e=Object.keys(t);for(let n=0;n<e.length;n++)this.addOperation("Custom",e[n],t[e[n]])}}loadInstructionSet(t){let e=new t(this);e.initializeNamespace(),e.initializeInstructions(),e.initializeOperations()}loadDefaultInstructionSets(){this.loadInstructionSet(t("./InstructionSets/Math-Javascript.js")),this.loadInstructionSet(t("./InstructionSets/PreciseMath-Decimal.js")),this.loadInstructionSet(t("./InstructionSets/Geometry.js")),this.loadInstructionSet(t("./InstructionSets/Logic.js")),this.loadInstructionSet(t("./InstructionSets/String.js")),this.loadInstructionSet(t("./InstructionSets/Set.js"))}operationExists(t,e){if("string"!=typeof t||"string"!=typeof e)return!1;let n=t.toLowerCase();return this.operationSets.hasOwnProperty(n)&&this.operationSets[n].hasOwnProperty(e.toLowerCase())}addOperation(t,e,n){if("string"!=typeof t)return this.logError("Attempted to add an operation at runtime via Elucidator.addOperation with an invalid namespace; expected a string but the type was "+typeof t,n),!1;let r=new a(this);return r.initializeNamespace(t),r.addOperation(e,n)}solveInternalOperation(t,e,n,r,s,i,a,o){if(!this.operationExists(t,e))return this.logError(`Attempted to solveInternalOperation for namespace ${t} operationHash ${e} but the operation was not found.`),!1;let u=this.operationSets[t.toLowerCase()][e.toLowerCase()];return this.solveOperation(u,n,r,s,i,a,o)}solveOperation(t,e,n,r,a,o,u){let p=JSON.parse(JSON.stringify(t));if("object"!=typeof e)return this.logError(`Attempted to run a solve but the passed in Input was not an object.  The type was ${typeof e}.`),!1;let c=e,l=c,h=u;void 0===h&&(h={SolutionGUID:"Solution-"+this.UUID++,SolutionBaseNamespace:t.Description.Namespace,SolutionBaseOperation:t.Description.Operation,SolutionLog:[]},p.hasOwnProperty("Inputs")||(p.Inputs={}),p.hasOwnProperty("Outputs")||(p.Outputs={}),p.hasOwnProperty("InputHashTranslationTable")?h.InputHashMapping=JSON.parse(JSON.stringify(p.InputHashTranslationTable)):h.InputHashMapping={},p.hasOwnProperty("OutputHashTranslationTable")&&(h.OutputHashMapping=JSON.parse(JSON.stringify(p.OutputHashTranslationTable))),"object"!=typeof n&&"undefined"==typeof tmpOutputHashMapping&&"undefined"!=typeof tmpInputHashMapping&&(h.OutputHashMapping=h.InputHashMapping)),"object"==typeof n&&(l=n);let d=!1;if(void 0===r){d=new s;d.schemaManipulations.mergeAddressMappings(p.Inputs,p.Outputs)}else d=r.clone();a&&d.schemaManipulations.resolveAddressMappings(p.Inputs,a),o&&d.schemaManipulations.resolveAddressMappings(p.Inputs,o),h.InputHashMapping&&d.hashTranslations.addTranslation(h.InputHashMapping),h.OutputHashMapping&&d.hashTranslations.addTranslation(h.OutputHashMapping),p.UUID=this.UUID++,p.SolutionContext=h,p.Description.Synopsys&&h.SolutionLog.push(`[${p.UUID}]: Solver running operation ${p.Description.Synopsys}`);let f=new i;if(f.addPattern("{{Name:","}}",(t=>{let e=t.trim(),n=d.getDescriptorByHash(e);return"object"==typeof n&&n.hasOwnProperty("Name")?n.Name:e})),f.addPattern("{{InputValue:","}}",(t=>{let e=t.trim();return d.getValueByHash(c,e)})),f.addPattern("{{OutputValue:","}}",(t=>{let e=t.trim();return d.getValueByHash(l,e)})),p.hasOwnProperty("Log")&&p.Log.hasOwnProperty("PreOperation"))if("string"==typeof p.Log.PreOperation)p.SolutionContext.SolutionLog.push(f.parseString(p.Log.PreOperation));else if(Array.isArray(p.Log.PreOperation))for(let t=0;t<p.Log.PreOperation.length;t++)"string"==typeof p.Log.PreOperation[t]&&p.SolutionContext.SolutionLog.push(f.parseString(p.Log.PreOperation[t]));for(let t=0;t<p.Steps.length;t++){let e=p.Steps[t];if(e.hasOwnProperty("Instruction")){let n={Scope:"InputObject",Descriptors:JSON.parse(JSON.stringify(p.Inputs))};d.schemaManipulations.resolveAddressMappings(n.Descriptors,e.InputHashAddressMap);let r=new s(n);h.InputHashMapping&&r.hashTranslations.addTranslation(h.InputHashMapping);let i={Scope:"OutputObject",Descriptors:JSON.parse(JSON.stringify(p.Outputs))};d.schemaManipulations.resolveAddressMappings(i.Descriptors,e.OutputHashAddressMap);let a=new s(i);h.OutputHashMapping&&a.hashTranslations.addTranslation(h.OutputHashMapping);let o={Elucidator:this,Namespace:e.Namespace.toLowerCase(),Instruction:e.Instruction.toLowerCase(),Operation:p,SolutionContext:h,DescriptionManyfest:d,InputObject:c,InputManyfest:r,OutputObject:l,OutputManyfest:a,logError:n=>{h.SolutionLog.push(`[ERROR][Operation ${o.Operation.Description.Namespace}:${o.Operation.Description.Hash} - Step #${t}:${e.Namespace}:${e.Instruction}] ${n}`)},logInfo:n=>{h.SolutionLog.push(`[INFO][Operation ${o.Operation.Description.Namespace}:${o.Operation.Description.Hash} - Step #${t}:${e.Namespace}:${e.Instruction}] ${n}`)}};if(this.instructionSets[o.Namespace].hasOwnProperty(o.Instruction)){(0,this.instructionSets[o.Namespace][o.Instruction])(o)}}e.hasOwnProperty("Operation")&&("string"==typeof e.Operation?this.solveInternalOperation(e.Namespace,e.Operation,c,l,d,e.InputHashAddressMap,e.OutputHashAddressMap,h):"object"==typeof e.Operation&&this.solveOperation(e.Operation,c,l,d,e.InputHashAddressMap,e.OutputHashAddressMap,h))}if(p.hasOwnProperty("Log")&&p.Log.hasOwnProperty("PostOperation"))if("string"==typeof p.Log.PostOperation)p.SolutionContext.SolutionLog.push(f.parseString(p.Log.PostOperation));else if(Array.isArray(p.Log.PreOperation))for(let t=0;t<p.Log.PostOperation.length;t++)"string"==typeof p.Log.PostOperation[t]&&p.SolutionContext.SolutionLog.push(f.parseString(p.Log.PostOperation[t]));return h}}},{"./Elucidator-InstructionSet.js":2,"./Elucidator-LogToConsole.js":3,"./InstructionSets/Geometry.js":5,"./InstructionSets/Logic.js":6,"./InstructionSets/Math-Javascript.js":7,"./InstructionSets/PreciseMath-Decimal.js":31,"./InstructionSets/Set.js":32,"./InstructionSets/String.js":33,manyfest:43,precedent:44}],5:[function(t,e,n){let r=t("../Elucidator-InstructionSet.js");e.exports=class extends r{constructor(t){super(t),this.namespace="Geometry"}initializeInstructions(){return!0}initializeOperations(){return this.addOperation("rectanglearea",t("./Operations/Geometry-RectangleArea.json")),!0}}},{"../Elucidator-InstructionSet.js":2,"./Operations/Geometry-RectangleArea.json":8}],6:[function(t,e,n){let r=t("../Elucidator-InstructionSet.js");const s=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"leftValue"),n=t.InputManyfest.getValueByHash(t.InputObject,"rightValue"),r=t.InputManyfest.getValueByHash(t.InputObject,"comparator").toString().toLowerCase(),s="equal",i={"==":"equal",eq:"equal",equal:"equal","!=":"notequal",noteq:"notequal",notequal:"notequal","===":"identity",id:"identity",identity:"identity",">":"greaterthan",gt:"greaterthan",greaterthan:"greaterthan",">=":"greaterthanorequal",gte:"greaterthanorequal",greaterthanorequal:"greaterthanorequal","<":"lessthan",lt:"lessthan",lessthan:"lessthan","<=":"lessthanorequal",lte:"lessthanorequal",lessthanorequal:"lessthanorequal"};i.hasOwnProperty(r)&&(s=i[r]);let a=t.InputManyfest.getValueByHash(t.InputObject,"trueNamespace"),o=t.InputManyfest.getValueByHash(t.InputObject,"trueOperation"),u=t.InputManyfest.getValueByHash(t.InputObject,"falseNamespace"),p=t.InputManyfest.getValueByHash(t.InputObject,"falseOperation"),c=null;switch(s){case"equal":c=e==n;break;case"identity":c=e===n;break;case"notequal":c=e!=n;break;case"greaterthan":c=e>n;break;case"greaterthanorequal":c=e>=n;break;case"lessthan":c=e<n;break;case"lessthanorequal":c=e<=n}return t.OutputManyfest.setValueByHash(t.OutputObject,"truthinessResult",c),c&&"string"==typeof a&&"string"==typeof o&&"noop"!=o?t.Elucidator.solveInternalOperation(a,o,t.InputObject,t.OutputObject,t.DescriptionManyfest,t.SolutionContext.InputHashMapping,t.SolutionContext.OutputHashMapping,t.SolutionContext):"string"==typeof u&&"string"==typeof p&&"noop"!=p&&t.Elucidator.solveInternalOperation(u,p,t.InputObject,t.OutputObject,t.DescriptionManyfest,t.SolutionContext.InputHashMapping,t.SolutionContext.OutputHashMapping,t.SolutionContext),!0},i=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"namespace"),n=t.InputManyfest.getValueByHash(t.InputObject,"operation");return t.Elucidator.solveInternalOperation(e,n,t.InputObject,t.OutputObject,t.DescriptionManyfest,t.SolutionContext.InputHashMapping,t.SolutionContext.OutputHashMapping,t.SolutionContext),!0};e.exports=class extends r{constructor(t){super(t),this.namespace="Logic"}initializeInstructions(){return super.initializeInstructions(),this.addInstruction("if",s),this.addInstruction("execute",i),!0}initializeOperations(){return this.addOperation("if",t("./Operations/Logic-If.json")),this.addOperation("execute",t("./Operations/Logic-Execute.json")),!0}}},{"../Elucidator-InstructionSet.js":2,"./Operations/Logic-Execute.json":9,"./Operations/Logic-If.json":10}],7:[function(t,e,n){let r=t("../Elucidator-InstructionSet.js"),s=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),n=t.InputManyfest.getValueByHash(t.InputObject,"b");return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e+n),!0},i=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),n=t.InputManyfest.getValueByHash(t.InputObject,"b");return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e-n),!0},a=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),n=t.InputManyfest.getValueByHash(t.InputObject,"b");return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e*n),!0},o=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),n=t.InputManyfest.getValueByHash(t.InputObject,"b");return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e/n),!0},u=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),n=0;if("object"==typeof e)if(Array.isArray(e))for(let r=0;r<e.length;r++){let s=parseInt(e[r]);isNaN(s)?t.logError(`Array element index [${r}] could not be parsed as a number; skipping.  (${e[r]})`):(n+=s,t.logInfo(`Adding element [${r}] value ${s} totaling: ${n}`))}else{let r=Object.keys(e);for(let s=0;s<r.length;s++){let i=parseInt(e[r[s]]);isNaN(i)?t.logError(`Object property [${r[s]}] could not be parsed as a number; skipping.  (${e[r[s]]})`):(n+=i,t.logInfo(`Adding object property [${r[s]}] value ${i} totaling: ${n}`))}}else{let r=parseInt(e);isNaN(r)?t.logError(`Direct value could not be parsed as a number; skipping.  (${e})`):n+=r}return t.OutputManyfest.setValueByHash(t.OutputObject,"x",n),!0};e.exports=class extends r{constructor(t){super(t),this.namespace="Math"}initializeInstructions(){return this.addInstruction("add",s),this.addInstruction("subtract",i),this.addInstruction("sub",i),this.addInstruction("multiply",a),this.addInstruction("mul",a),this.addInstruction("divide",o),this.addInstruction("div",o),this.addInstruction("aggregate",u),!0}initializeOperations(){return this.addOperation("add",t("./Operations/Math-Add.json")),this.addOperation("subtract",t("./Operations/Math-Subtract.json")),this.addOperation("multiply",t("./Operations/Math-Multiply.json")),this.addOperation("divide",t("./Operations/Math-Divide.json")),this.addOperation("aggregate",t("./Operations/Math-Aggregate.json")),!0}}},{"../Elucidator-InstructionSet.js":2,"./Operations/Math-Add.json":11,"./Operations/Math-Aggregate.json":12,"./Operations/Math-Divide.json":13,"./Operations/Math-Multiply.json":14,"./Operations/Math-Subtract.json":15}],8:[function(t,e,n){e.exports={Description:{Namespace:"Geometry",Operation:"RectangleArea",Synopsis:"Solve for the area of a rectangle:  Area = Width * Height"},Inputs:{Width:{Hash:"Width",Type:"Number"},Height:{Hash:"Height",Type:"Number"}},Outputs:{Area:{Hash:"Area",Name:"Area of the Rectangle"},Ratio:{Hash:"Ratio",Name:"The Ratio between the Width and the Height"}},Log:{PreOperation:"Solve for [ {{Name:Area}} ] based on [ {{Name:Width}} ] and [ {{Name:Height}} ].",PostOperation:"Operation complete; [ {{Name:Area}} ] = {{InputValue:Width}} * {{InputValue:Height}} = {{OutputValue:Area}}"},Steps:[{Namespace:"PreciseMath",Instruction:"multiply",InputHashAddressMap:{a:"Width",b:"Height"},OutputHashAddressMap:{x:"Area"}},{Namespace:"PreciseMath",Instruction:"divide",InputHashAddressMap:{a:"Width",b:"Height"},OutputHashAddressMap:{x:"Ratio"}}]}},{}],9:[function(t,e,n){e.exports={Description:{Namespace:"Logic",Operation:"Execute",Synopsis:"Execute an operation based on namespace and operation."},Inputs:{namespace:{Hash:"namespace",Type:"string",Default:"logic"},operation:{Hash:"operation",Type:"string",Default:"noop"}},Outputs:{},Log:{PreOperation:"Execute the {{InputValue:operation}} operation in namespace {{InputValue:namespace}}.",PostOperation:"Operation [{{InputValue:namespace}}:{{InputValue:operation}}] execution complete."},Steps:[{Namespace:"Logic",Instruction:"execute"}]}},{}],10:[function(t,e,n){e.exports={Description:{Namespace:"Logic",Operation:"If",Synopsis:"Comparison-based if of leftValue and RightValue based on comparator.  Executes trueNamespace:trueOperation or falseNamespace:falseOperation based on truthiness of result.  Also outputs a true or false to truthinessResult."},Inputs:{leftValue:{Hash:"leftValue",Type:"Any"},rightValue:{Hash:"rightValue",Type:"Any",Default:!0},comparator:{Hash:"comparator",Type:"String",Default:"=="},trueNamespace:{Hash:"trueNamespace",Type:"String",Default:"logic"},trueOperation:{Hash:"trueOperation",Type:"String",Default:"noop"},falseNamespace:{Hash:"falseNamespace",Type:"String",Default:"logic"},falseOperation:{Hash:"falseOperation",Type:"String",Default:"noop"}},Outputs:{truthinessResult:{Hash:"truthinessResult",Type:"Boolean"}},Log:{PreOperation:"Compare {{Name:leftValue}} and {{Name:rightValue}} with the {{InputValue:comparator}} operator, storing the truthiness in {{Name:truthinessResult}}.",PostOperation:"Operation complete: {{InputValue:leftValue}} {{InputValue:comparator}} {{InputValue:rightValue}} evaluated to {{OutputValue:truthinessResult}}"},Steps:[{Namespace:"Logic",Instruction:"If"}]}},{}],11:[function(t,e,n){e.exports={Description:{Namespace:"Math",Operation:"Add",Synopsis:"Add two numbers:  x = a + b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Add {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} + {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"Math",Instruction:"add"}]}},{}],12:[function(t,e,n){e.exports={Description:{Namespace:"Math",Operation:"Aggregate",Synopsis:"Aggregate a set of numbers (from array or object address):  x = a + b + ... + z"},Inputs:{a:{Hash:"a",Type:"Set"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Aggregate all numeric values in {{Name:a}}, storing the resultant in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{OutputValue:x}}"},Steps:[{Namespace:"Math",Instruction:"aggregate"}]}},{}],13:[function(t,e,n){e.exports={Description:{Namespace:"Math",Operation:"Divide",Synopsis:"Divide two numbers:  x = a / b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Divide {{Name:a}} over {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} / {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"Math",Instruction:"divide"}]}},{}],14:[function(t,e,n){e.exports={Description:{Namespace:"Math",Operation:"Multiply",Synopsis:"Multiply two numbers:  x = a * b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Multiply {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} * {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"Math",Instruction:"multiply"}]}},{}],15:[function(t,e,n){e.exports={Description:{Namespace:"Math",Operation:"Subtract",Synopsis:"Subtract two numbers:  x = a - b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Subtract {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} - {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"Math",Instruction:"subtract"}]}},{}],16:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"Add",Synopsis:"Precisely add two numbers:  x = a + b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Add {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} + {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"add"}]}},{}],17:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"Aggregate",Synopsis:"Precisely aggregate a set of numbers (from array or object address):  x = a + b + ... + z"},Inputs:{a:{Hash:"a",Type:"Set"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Aggregate all numeric values in {{Name:a}}, storing the resultant in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"aggregate"}]}},{}],18:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"Divide",Synopsis:"Precisely divide two numbers:  x = a / b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Divide {{Name:a}} over {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} / {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"divide"}]}},{}],19:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"GroupValuesAndAggregate",Synopsis:"Group values in a set and aggregate the set of numbers (from array or object addresses)"},Inputs:{inputDataSet:{Hash:"inputDataSet",Type:"Set"},groupByProperty:{Hash:"groupByProperty",Type:"Any"},groupValueProperty:{Hash:"groupValueProperty",Type:"Any"},recordIndicatorProperty:{Hash:"recordIndicatorProperty",Type:"String",Default:!1}},Outputs:{outputDataSet:{Hash:"outputDataSet",Type:"Set"}},Log:{PreOperation:"Group {{Name:inputDataSet}} by {{Name:groupByProperty}} and create a map, storing the resultant in {{Name:outputDataSet}}.",PostOperation:"Operation complete: Grouping {{Name:inputDataSet}} by {{Name:groupByProperty}} into aggregated values in {{Name:outputDataSet}}"},Steps:[{Namespace:"PreciseMath",Instruction:"groupvaluesandaggregate"}]}},{}],20:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"Multiply",Synopsis:"Precisely multiply two numbers:  x = a * b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Multiply {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} * {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"multiply"}]}},{}],21:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"Round",Synopsis:"Precisely round a number."},Inputs:{a:{Hash:"a",Type:"Number"},precision:{Hash:"precision",Type:"Number"},roundingmode:{Hash:"roundingmode",Type:"String"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Round {{Name:a}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = Round({{InputValue:a}}) = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"round"}]}},{}],22:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"SetPrecision",Synopsis:"Set the precision."},Inputs:{precision:{Hash:"precision",Type:"Number",Default:2}},Outputs:{},Log:{PreOperation:"Set precision to {{InputValue:precision}}.",PostOperation:"Operation complete: Default precision set to {{InputValue:precision}}."},Steps:[{Namespace:"PreciseMath",Instruction:"setprecision"}]}},{}],23:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"SetRoundingMode",Synopsis:"Set the rounding mode."},Inputs:{roundingmode:{Hash:"roundingmode",Type:"String",Default:"ROUND_HALF_UP"}},Outputs:{},Log:{PreOperation:"Set rounding mode to {{InputValue:roundingmode}}.",PostOperation:"Operation complete: Default rounding mode set to {{InputValue:roundingmode}}."},Steps:[{Namespace:"PreciseMath",Instruction:"setroundingmode"}]}},{}],24:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"Subtract",Synopsis:"Precisely subtract two numbers:  x = a - b"},Inputs:{a:{Hash:"a",Type:"Number"},b:{Hash:"b",Type:"Number"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Subtract {{Name:a}} and {{Name:b}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{InputValue:a}} - {{InputValue:b}} = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"subtract"}]}},{}],25:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"ToDecimalPlaces",Synopsis:"Precisely round a number to a certain number of decimal places."},Inputs:{a:{Hash:"a",Type:"Number"},decimalplaces:{Hash:"decimalplaces",Type:"Number",Default:2},roundingmode:{Hash:"roundingmode",Type:"String"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Round {{Name:a}} to {{Value:decimalplaces}} decimal places, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = Round({{InputValue:a}} TO {{Value:decimalplaces}} decimal places) = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"todecimalplaces"}]}},{}],26:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"ToSignificantDigits",Synopsis:"Precisely round a number to a specific number of significant digits."},Inputs:{a:{Hash:"a",Type:"Number"},digits:{Hash:"digits",Type:"Number",Default:12},roundingmode:{Hash:"roundingmode",Type:"String"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Round {{Name:a}} to {{InputValue:digits}}, storing the value in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = Round({{InputValue:a}} TO {{InputValue:digits}}) = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"tosignificantdigits"}]}},{}],27:[function(t,e,n){e.exports={Description:{Namespace:"Set",Operation:"GroupValuesBy",Synopsis:"Group set of Sub object values by another property in the objects."},Inputs:{inputDataSet:{Hash:"inputDataSet",Type:"Set"},groupByProperty:{Hash:"groupByProperty",Type:"Any"},groupValueProperty:{Hash:"groupValueProperty",Type:"Any"}},Outputs:{outputDataSet:{Hash:"outputDataSet",Type:"Set"}},Log:{PreOperation:"Group {{Name:inputDataSet}} by {{Name:groupByProperty}} and create a mapped result set into {{Name:outputDataSet}}.",PostOperation:"Operation complete: Grouping {{Name:inputDataSet}} by {{Name:groupByProperty}} into {{Name:outputDataSet}}"},Steps:[{Namespace:"Set",Instruction:"GroupValuesBy"}]}},{}],28:[function(t,e,n){e.exports={Description:{Namespace:"String",Operation:"Replace",Synopsis:"Replace all instances of searchFor with replaceWith in inputString"},Inputs:{inputString:{Hash:"inputString",Type:"String"},searchFor:{Hash:"searchFor",Type:"String"},replaceWith:{Hash:"replaceWith",Type:"String"}},Outputs:{outputString:{Hash:"outputString",Type:"String"}},Log:{PreOperation:"Search for [{{InputValue:searchFor}}] and replace it with [{{InputValue:replaceWith}}] in [{{InputValue:inputString}}].",PostOperation:"Operation complete: {{Name:outputString}} = [{{OutputValue:outputString}}] from [{{InputValue:inputString}}] replacing [{{InputValue:searchFor}}] with [{{InputValue:replaceWith}}]."},Steps:[{Namespace:"String",Instruction:"replace"}]}},{}],29:[function(t,e,n){e.exports={Description:{Namespace:"String",Operation:"Substring",Synopsis:"Get all characters between indexStart and indexEnd (optional) for a given inputString."},Inputs:{inputString:{Hash:"inputString",Type:"String"},indexStart:{Hash:"indexStart",Type:"Number",Default:0},indexEnd:{Hash:"indexEnd",Type:"String",Default:null}},Outputs:{outputString:{Hash:"outputString",Type:"String"}},Log:{PreOperation:"Get all characters between {{InputValue:indexStart}} and {{InputValue:indexEnd}} in [{{InputValue:inputString}}].",PostOperation:"Operation complete: {{Name:outputString}} = [{{OutputValue:outputString}}] from [{{InputValue:inputString}}] between {{InputValue:indexStart}} and {{InputValue:indexEnd}}."},Steps:[{Namespace:"String",Instruction:"substring"}]}},{}],30:[function(t,e,n){e.exports={Description:{Namespace:"String",Operation:"Trim",Synopsis:"Trim whitespace off the end of string in inputString, putting the result in outputString"},Inputs:{inputString:{Hash:"inputString",Type:"String"}},Outputs:{outputString:{Hash:"outputString",Type:"String"}},Log:{PreOperation:"Trim the whitespace from value [{{InputValue:inputString}}].",PostOperation:"Operation complete: {{Name:outputString}} = [{{OutputValue:outputString}}] from [{{InputValue:inputString}}]"},Steps:[{Namespace:"String",Instruction:"trim"}]}},{}],31:[function(t,e,n){let r=t("../Elucidator-InstructionSet.js");const s=t("decimal.js");let i=t=>{let e=new s(t.InputManyfest.getValueByHash(t.InputObject,"a")),n=new s(t.InputManyfest.getValueByHash(t.InputObject,"b"));return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.plus(n).toString()),!0},a=t=>{let e=new s(t.InputManyfest.getValueByHash(t.InputObject,"a")),n=new s(t.InputManyfest.getValueByHash(t.InputObject,"b"));return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.sub(n).toString()),!0},o=t=>{let e=new s(t.InputManyfest.getValueByHash(t.InputObject,"a")),n=new s(t.InputManyfest.getValueByHash(t.InputObject,"b"));return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.mul(n).toString()),!0},u=t=>{let e=new s(t.InputManyfest.getValueByHash(t.InputObject,"a")),n=new s(t.InputManyfest.getValueByHash(t.InputObject,"b"));return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.div(n).toString()),!0},p=t=>{let e=new s(t.InputManyfest.getValueByHash(t.InputObject,"a")),n=parseInt(t.InputManyfest.getValueByHash(t.InputObject,"precision")),r=t.InputManyfest.getValueByHash(t.InputObject,"roundingmode");if(r)switch(r.toString().toLowerCase()){case"round_up":s.set({rounding:s.ROUND_UP});break;case"round_down":s.set({rounding:s.ROUND_DOWN});break;case"round_ceil":s.set({rounding:s.ROUND_CEIL});break;case"round_floor":s.set({rounding:s.ROUND_FLOOR});break;default:case"round_half_up":s.set({rounding:s.ROUND_HALF_UP});break;case"round_half_down":s.set({rounding:s.ROUND_HALF_DOWN});break;case"round_half_even":s.set({rounding:s.ROUND_HALF_EVEN});break;case"round_half_ceil":s.set({rounding:s.ROUND_HALF_CEIL});break;case"round_half_floor":s.set({rounding:s.ROUND_HALF_FLOOR});break;case"euclid":s.set({rounding:s.EUCLID})}isNaN(n)||s.set({precision:n}),t.OutputManyfest.setValueByHash(t.OutputObject,"x",s.round(e).toString())},c=t=>{let e=new s(t.InputManyfest.getValueByHash(t.InputObject,"a")),n=parseInt(t.InputManyfest.getValueByHash(t.InputObject,"digits")),r=t.InputManyfest.getValueByHash(t.InputObject,"roundingmode");if(r)switch(r.toString().toLowerCase()){case"round_up":s.set({rounding:s.ROUND_UP});break;case"round_down":s.set({rounding:s.ROUND_DOWN});break;case"round_ceil":s.set({rounding:s.ROUND_CEIL});break;case"round_floor":s.set({rounding:s.ROUND_FLOOR});break;default:case"round_half_up":s.set({rounding:s.ROUND_HALF_UP});break;case"round_half_down":s.set({rounding:s.ROUND_HALF_DOWN});break;case"round_half_even":s.set({rounding:s.ROUND_HALF_EVEN});break;case"round_half_ceil":s.set({rounding:s.ROUND_HALF_CEIL});break;case"round_half_floor":s.set({rounding:s.ROUND_HALF_FLOOR});break;case"euclid":s.set({rounding:s.EUCLID})}isNaN(n)&&(n=12),t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.toSignificantDigits(n).toString())},l=t=>{let e=new s(t.InputManyfest.getValueByHash(t.InputObject,"a")),n=parseInt(t.InputManyfest.getValueByHash(t.InputObject,"decimalplaces")),r=t.InputManyfest.getValueByHash(t.InputObject,"roundingmode");if(r)switch(r.toString().toLowerCase()){case"round_up":s.set({rounding:s.ROUND_UP});break;case"round_down":s.set({rounding:s.ROUND_DOWN});break;case"round_ceil":s.set({rounding:s.ROUND_CEIL});break;case"round_floor":s.set({rounding:s.ROUND_FLOOR});break;default:case"round_half_up":s.set({rounding:s.ROUND_HALF_UP});break;case"round_half_down":s.set({rounding:s.ROUND_HALF_DOWN});break;case"round_half_even":s.set({rounding:s.ROUND_HALF_EVEN});break;case"round_half_ceil":s.set({rounding:s.ROUND_HALF_CEIL});break;case"round_half_floor":s.set({rounding:s.ROUND_HALF_FLOOR});break;case"euclid":s.set({rounding:s.EUCLID})}isNaN(n)&&(n=2),t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.toDecimalPlaces(n).toString())},h=t=>{let e=parseInt(t.InputManyfest.getValueByHash(t.InputObject,"precision"));console.log(e),isNaN(e)||s.set({precision:e})},d=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"roundingmode");if(e)switch(e.toString().toLowerCase()){case"round_up":s.set({rounding:s.ROUND_UP});break;case"round_down":s.set({rounding:s.ROUND_DOWN});break;case"round_ceil":s.set({rounding:s.ROUND_CEIL});break;case"round_floor":s.set({rounding:s.ROUND_FLOOR});break;default:case"round_half_up":s.set({rounding:s.ROUND_HALF_UP});break;case"round_half_down":s.set({rounding:s.ROUND_HALF_DOWN});break;case"round_half_even":s.set({rounding:s.ROUND_HALF_EVEN});break;case"round_half_ceil":s.set({rounding:s.ROUND_HALF_CEIL});break;case"round_half_floor":s.set({rounding:s.ROUND_HALF_FLOOR});break;case"euclid":s.set({rounding:s.EUCLID})}},f=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"a"),n=typeof e,r=new s(0);if("object"==n)if(Array.isArray(e))for(let n=0;n<e.length;n++){let i=new s(e[n]);isNaN(i)?t.logError(`Array element index [${n}] could not be parsed as a number by Decimal.js; skipping.  (${e[n]})`):(r=r.plus(i),t.logInfo(`Adding element [${n}] value ${i} totaling: ${r}`))}else{let n=Object.keys(e);for(let i=0;i<n.length;i++){let a=new s(e[n[i]]);isNaN(a)?t.logError(`Object property [${n[i]}] could not be parsed as a number; skipping.  (${e[n[i]]})`):(r=r.plus(a),t.logInfo(`Adding object property [${n[i]}] value ${a} totaling: ${r}`))}}else{let n=new s(e);isNaN(n)?t.logError(`Direct value could not be parsed as a number; skipping.  (${e})`):r=n}return t.OutputManyfest.setValueByHash(t.OutputObject,"x",r.toString()),!0};const g=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"inputDataSet"),n=t.InputManyfest.getValueByHash(t.InputObject,"groupByProperty"),r=t.InputManyfest.getValueByHash(t.InputObject,"groupValueProperty"),i={},a={};if("object"==typeof e){if(Array.isArray(e))for(let a=0;a<e.length;a++)if("object"!=typeof e[a])t.logInfo(`Element [${a}] was not an object; skipping group operation.`);else{let o=e[a],u=o[n];if(o.hasOwnProperty(n)||(t.logInfo(`Element [${a}] doesn't have the group by property [${n}]; setting group to [__NO_GROUP].`),u="__NO_GROUP"),o.hasOwnProperty(r)){let e=new s(o[r]);isNaN(e)?t.logError(`Object property [${a}] could not be parsed as a number; skipping.  (${o[r]})`):(i.hasOwnProperty(u)?i[u]=i[u].plus(e):i[u]=e,t.logInfo(`Adding object property [${a}] value ${e} totaling: ${i[u]}`))}else t.logInfo(`Element [${a}] doesn't have the group value property [${r}]; skipping group operation.`)}else{let a=Object.keys(e);for(let o=0;o<a.length;o++)if("object"!=typeof e[a[o]])t.logInfo(`Element [${o}] was not an object; skipping group operation.`);else{let u=e[a[o]],p=u[n];if(u.hasOwnProperty(n)||(t.logInfo(`Element [${a[o]}][${o}] doesn't have the group by property [${n}]; setting group to [__NO_GROUP].`),p="__NO_GROUP"),u.hasOwnProperty(r)){let e=new s(u[r]);isNaN(e)?t.logError(`Object property [${a[o]}][${o}] to group ${p} could not be parsed as a number; skipping.  (${u[r]})`):(i.hasOwnProperty(p)?i[p]=i[p].plus(e):i[p]=e,t.logInfo(`Adding object property [${a[o]}][${o}] to group ${p} value ${e} totaling: ${i[p]}`))}else t.logInfo(`Element [${a[o]}][${o}] doesn't have the group value property [${r}]; skipping group operation.`)}}let o=Object.keys(i);for(let t=0;t<o.length;t++)a[o[t]]=i[o[t]].toString()}else t.logError("Input set is neither an Array nor an Object");return t.OutputManyfest.setValueByHash(t.OutputObject,"outputDataSet",a),!0};let y=t=>{let e=new s(t.InputManyfest.getValueByHash(t.InputObject,"a"));return t.OutputManyfest.setValueByHash(t.OutputObject,"x",e.toFraction().toString()),!0};e.exports=class extends r{constructor(t){super(t),this.namespace="PreciseMath"}initializeInstructions(){return this.addInstruction("add",i),this.addInstruction("subtract",a),this.addInstruction("sub",a),this.addInstruction("multiply",o),this.addInstruction("mul",o),this.addInstruction("divide",u),this.addInstruction("div",u),this.addInstruction("aggregate",f),this.addInstruction("groupvaluesandaggregate",g),this.addInstruction("setprecision",h),this.addInstruction("setroundingmode",d),this.addInstruction("todecimalplaces",l),this.addInstruction("tosignificantdigits",c),this.addInstruction("round",p),this.addInstruction("tofraction",y),!0}initializeOperations(){return this.addOperation("add",t("./Operations/PreciseMath-Add.json")),this.addOperation("subtract",t("./Operations/PreciseMath-Subtract.json")),this.addOperation("multiply",t("./Operations/PreciseMath-Multiply.json")),this.addOperation("divide",t("./Operations/PreciseMath-Divide.json")),this.addOperation("aggregate",t("./Operations/PreciseMath-Aggregate.json")),this.addOperation("groupvaluesandaggregate",t("./Operations/PreciseMath-GroupValuesAndAggregate.json")),this.addOperation("setprecision",t("./Operations/PreciseMath-SetPrecision.json")),this.addOperation("setroundingmode",t("./Operations/PreciseMath-SetRoundingMode.json")),this.addOperation("tosignificantdigits",t("./Operations/PreciseMath-ToSignificantDigits.json")),this.addOperation("todecimalplaces",t("./Operations/PreciseMath-ToDecimalPlaces.json")),this.addOperation("round",t("./Operations/PreciseMath-Round.json")),!0}}},{"../Elucidator-InstructionSet.js":2,"./Operations/PreciseMath-Add.json":16,"./Operations/PreciseMath-Aggregate.json":17,"./Operations/PreciseMath-Divide.json":18,"./Operations/PreciseMath-GroupValuesAndAggregate.json":19,"./Operations/PreciseMath-Multiply.json":20,"./Operations/PreciseMath-Round.json":21,"./Operations/PreciseMath-SetPrecision.json":22,"./Operations/PreciseMath-SetRoundingMode.json":23,"./Operations/PreciseMath-Subtract.json":24,"./Operations/PreciseMath-ToDecimalPlaces.json":25,"./Operations/PreciseMath-ToSignificantDigits.json":26,"decimal.js":1}],32:[function(t,e,n){let r=t("../Elucidator-InstructionSet.js");const s=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"inputDataSet"),n=t.InputManyfest.getValueByHash(t.InputObject,"groupByProperty"),r=t.InputManyfest.getValueByHash(t.InputObject,"groupValueProperty"),s={};if("object"==typeof e)if(Array.isArray(e))for(let i=0;i<e.length;i++)if("object"!=typeof e[i])t.logInfo(`Element [${i}] was not an object; skipping group operation.`);else{let a=e[i],o=a[n];a.hasOwnProperty(n)||(t.logInfo(`Element [${i}] doesn't have the group by property [${n}]; setting group to [__NO_GROUP].`),o="__NO_GROUP"),a.hasOwnProperty(r)?(s.hasOwnProperty(o)||(t.logInfo(`Creating a new group [${o}] for element [${i}].`),s[o]=[]),s[o].push(a[r])):t.logInfo(`Element [${i}] doesn't have the group value property [${r}]; skipping group operation.`)}else{let i=Object.keys(e);for(let a=0;a<i.length;a++)if("object"!=typeof e[i[a]])t.logInfo(`Element [${a}] was not an object; skipping group operation.`);else{let o=e[i[a]],u=o[n];o.hasOwnProperty(n)||(t.logInfo(`Element [${i[a]}][${a}] doesn't have the group by property [${n}]; setting group to [__NO_GROUP].`),u="__NO_GROUP"),o.hasOwnProperty(r)?(s.hasOwnProperty(u)||(t.logInfo(`Creating a new group [${u}] for element [${i[a]}][${a}].`),s[u]=[]),s[u].push(o[r])):t.logInfo(`Element [${i[a]}][${a}] doesn't have the group value property [${r}]; skipping group operation.`)}}else t.logError("Input set is neither an Array nor an Object");return t.OutputManyfest.setValueByHash(t.OutputObject,"outputDataSet",s),!0};e.exports=class extends r{constructor(t){super(t),this.namespace="Set"}initializeInstructions(){return super.initializeInstructions(),this.addInstruction("groupvaluesby",s),!0}initializeOperations(){return this.addOperation("groupvaluesby",t("./Operations/Set-GroupValuesBy.json")),!0}}},{"../Elucidator-InstructionSet.js":2,"./Operations/Set-GroupValuesBy.json":27}],33:[function(t,e,n){let r=t("../Elucidator-InstructionSet.js"),s=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"inputString");return t.OutputManyfest.setValueByHash(t.OutputObject,"outputString",e.trim()),!0},i=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"inputString"),n=t.InputManyfest.getValueByHash(t.InputObject,"searchFor"),r=t.InputManyfest.getValueByHash(t.InputObject,"replaceWith");return t.OutputManyfest.setValueByHash(t.OutputObject,"outputString",e.replace(n,r)),!0},a=t=>{let e=t.InputManyfest.getValueByHash(t.InputObject,"inputString"),n=t.InputManyfest.getValueByHash(t.InputObject,"indexStart"),r=t.InputManyfest.getValueByHash(t.InputObject,"indexEnd");return null!=r?t.OutputManyfest.setValueByHash(t.OutputObject,"outputString",e.substring(n,r)):t.OutputManyfest.setValueByHash(t.OutputObject,"outputString",e.substring(n)),!0};e.exports=class extends r{constructor(t){super(t),this.namespace="String"}initializeInstructions(){return this.addInstruction("trim",s),this.addInstruction("replace",i),this.addInstruction("substring",a),!0}initializeOperations(){return this.addOperation("trim",t("./Operations/String-Trim.json")),this.addOperation("replace",t("./Operations/String-Replace.json")),this.addOperation("substring",t("./Operations/String-Substring.json")),!0}}},{"../Elucidator-InstructionSet.js":2,"./Operations/String-Replace.json":28,"./Operations/String-Substring.json":29,"./Operations/String-Trim.json":30}],34:[function(t,e,n){e.exports=(t,e)=>e.startsWith(t)&&e.endsWith(t)?e.substring(1,e.length-1):e},{}],35:[function(t,e,n){
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
let r=t("./Manyfest-LogToConsole.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:r,this.logError="function"==typeof e?e:r,this.translationTable={}}translationCount(){return Object.keys(this.translationTable).length}addTranslation(t){if("object"!=typeof t)return this.logError("Hash translation addTranslation expected a translation be type object but was passed in "+typeof t),!1;Object.keys(t).forEach((e=>{"string"!=typeof t[e]?this.logError(`Hash translation addTranslation expected a translation destination hash for [${e}] to be a string but the referrant was a ${typeof t[e]}`):this.translationTable[e]=t[e]}))}removeTranslationHash(t){this.translationTable.hasOwnProperty(t)&&delete this.translationTable[t]}removeTranslation(t){if("string"==typeof t)return this.removeTranslationHash(t),!0;if("object"==typeof t){return Object.keys(t).forEach((t=>{this.removeTranslation(t)})),!0}return this.logError("Hash translation removeTranslation expected either a string or an object but the passed-in translation was type "+typeof t),!1}clearTranslations(){this.translationTable={}}translate(t){return this.translationTable.hasOwnProperty(t)?this.translationTable[t]:t}}},{"./Manyfest-LogToConsole.js":36}],36:[function(t,e,n){e.exports=(t,e)=>{let n="string"==typeof t?t:"";console.log(`[Manyfest] ${n}`),e&&console.log(JSON.stringify(e))}},{}],37:[function(t,e,n){
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
let r=t("./Manyfest-LogToConsole.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:r,this.logError="function"==typeof e?e:r,this.elucidatorSolver=!1,this.elucidatorSolverState={}}checkAddressExists(t,e){if("object"!=typeof t)return!1;if("string"!=typeof e)return!1;let n=e.indexOf(".");if(-1==n){let n=e.indexOf("["),r=e.indexOf("]");if(n>0&&r>n&&r-n>1){let s=e.substring(0,n).trim();if("object"!=typeof t[s])return!1;let i=e.substring(n+1,r).trim(),a=parseInt(i,10);return Array.isArray(t[s])!=isNaN(a)&&(isNaN(a)?(i=this.cleanWrapCharacters('"',i),i=this.cleanWrapCharacters("`",i),i=this.cleanWrapCharacters("'",i),t[s].hasOwnProperty(i)):a in t[s])}return t.hasOwnProperty(e)}{let r=e.substring(0,n),s=e.substring(n+1),i=r.indexOf("["),a=r.indexOf("]");if(i>0&&a>i&&a-i>1){let e=r.substring(0,i).trim(),n=r.substring(i+1,a).trim(),o=parseInt(n,10);return Array.isArray(t[e])!=isNaN(o)&&(isNaN(o)?(n=this.cleanWrapCharacters('"',n),n=this.cleanWrapCharacters("`",n),n=this.cleanWrapCharacters("'",n),this.checkAddressExists(t[e][n],s)):this.checkAddressExists(t[e][o],s))}return(!t.hasOwnProperty(r)||"object"==typeof t[r])&&(t.hasOwnProperty(r)||(t[r]={}),this.checkAddressExists(t[r],s))}}}},{"./Manyfest-LogToConsole.js":36}],38:[function(t,e,n){
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
let r=t("./Manyfest-LogToConsole.js"),s=t("precedent"),i=t("./Manyfest-CleanWrapCharacters.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:r,this.logError="function"==typeof e?e:r,this.elucidatorSolver=!1,this.elucidatorSolverState={},this.cleanWrapCharacters=i}checkFilters(e,n){let r=new s,i=e;if(!this.elucidatorSolver){let e=t("elucidator");this.elucidatorSolver=new e({},this.logInfo,this.logError)}if(this.elucidatorSolver){let t={Record:n,keepRecord:!0};return r.addPattern("<<~~","~~>>",(e=>{this.elucidatorSolverState.hasOwnProperty(e)&&(t.SolutionState=this.elucidatorSolverState[e]),this.elucidatorSolver.solveInternalOperation("Custom",e,t)})),r.addPattern("<<~?","?~>>",(e=>{if("string"!=typeof e)return!1;let n=e.split(","),r=n[0],s=n[1],i=n[2];t.ComparisonState={SearchAddress:r,Comparator:s,SearchTerm:i},this.elucidatorSolver.solveOperation({Description:{Operation:"Simple_If",Synopsis:"Test for "},Steps:[{Namespace:"Logic",Instruction:"if",InputHashAddressMap:{leftValue:`Record.${r}`,rightValue:"ComparisonState.SearchTerm",comparator:"ComparisonState.Comparator"},OutputHashAddressMap:{truthinessResult:"keepRecord"}}]},t)})),r.parseString(i),t.keepRecord}return!0}deleteValueAtAddress(t,e,n){if("object"!=typeof t)return;if("string"!=typeof e)return;let r="";"string"==typeof n&&(r=n);let s=e.indexOf(".");if(-1==s){let n=e.indexOf("["),r=e.indexOf("]"),s=e.indexOf("{}");if(n>0&&r>n&&r-n>1){let s=e.substring(0,n).trim();if("object"!=typeof t[s])return!1;let i=e.substring(n+1,r).trim(),a=parseInt(i,10);return Array.isArray(t[s])!=isNaN(a)&&(isNaN(a)?(i=this.cleanWrapCharacters('"',i),i=this.cleanWrapCharacters("`",i),i=this.cleanWrapCharacters("'",i),delete t[s][i],!0):(delete t[s][a],!0))}if(n>0&&r>n&&r-n==1){let r=e.substring(0,n).trim();if(!Array.isArray(t[r]))return!1;let s=t[r];for(let t=s.length-1;t>=0;t--){this.checkFilters(e,s[t])&&s.splice(t,1)}return!0}if(s>0){let n=e.substring(0,s).trim();return"object"==typeof t[n]&&(delete t[n],!0)}return delete t[e],!0}{let n=e.substring(0,s),i=e.substring(s+1),a=n.indexOf("["),o=n.indexOf("]");if(a>0&&o>a&&o-a>1){let e=n.substring(0,a).trim(),s=n.substring(a+1,o).trim(),u=parseInt(s,10);return Array.isArray(t[e])!=isNaN(u)&&("object"==typeof t[e]&&(isNaN(u)?(s=this.cleanWrapCharacters('"',s),s=this.cleanWrapCharacters("`",s),s=this.cleanWrapCharacters("'",s),r=`${r}${r.length>0?".":""}${n}`,this.deleteValueAtAddress(t[e][s],i,r)):(r=`${r}${r.length>0?".":""}${n}`,this.deleteValueAtAddress(t[e][u],i,r))))}if(a>0&&o>a&&o-a==1){let n=e.substring(0,a).trim();if(!Array.isArray(t[n]))return!1;let s=t[n];r=`${r}${r.length>0?".":""}${n}`;let o={};for(let e=0;e<s.length;e++){let s=`${r}[${e}]`,a=this.deleteValueAtAddress(t[n][e],i,s);o[`${s}.${i}`]=a}return o}let u=e.indexOf("{}");if(u>0){let n=e.substring(0,u).trim();if("object"!=typeof t[n])return!1;let s=t[n],a=Object.keys(s);r=`${r}${r.length>0?".":""}${n}`;let o={};for(let s=0;s<a.length;s++){let u=`${r}.${a[s]}`,p=this.deleteValueAtAddress(t[n][a[s]],i,u);this.checkFilters(e,p)&&(o[`${u}.${i}`]=p)}return o}return t.hasOwnProperty(n)&&"object"!=typeof t[n]?void 0:t.hasOwnProperty(n)?(r=`${r}${r.length>0?".":""}${n}`,this.deleteValueAtAddress(t[n],i,r)):(r=`${r}${r.length>0?".":""}${n}`,t[n]={},this.deleteValueAtAddress(t[n],i,r))}}}},{"./Manyfest-CleanWrapCharacters.js":34,"./Manyfest-LogToConsole.js":36,elucidator:4,precedent:44}],39:[function(t,e,n){
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
let r=t("./Manyfest-LogToConsole.js"),s=t("precedent"),i=t("./Manyfest-CleanWrapCharacters.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:r,this.logError="function"==typeof e?e:r,this.elucidatorSolver=!1,this.elucidatorSolverState={},this.cleanWrapCharacters=i}checkFilters(e,n){let r=new s,i=e;if(!this.elucidatorSolver){let e=t("elucidator");this.elucidatorSolver=new e({},this.logInfo,this.logError)}if(this.elucidatorSolver){let t={Record:n,keepRecord:!0};return r.addPattern("<<~~","~~>>",(e=>{this.elucidatorSolverState.hasOwnProperty(e)&&(t.SolutionState=this.elucidatorSolverState[e]),this.elucidatorSolver.solveInternalOperation("Custom",e,t)})),r.addPattern("<<~?","?~>>",(e=>{if("string"!=typeof e)return!1;let n=e.split(","),r=n[0],s=n[1],i=n[2];t.ComparisonState={SearchAddress:r,Comparator:s,SearchTerm:i},this.elucidatorSolver.solveOperation({Description:{Operation:"Simple_If",Synopsis:"Test for "},Steps:[{Namespace:"Logic",Instruction:"if",InputHashAddressMap:{leftValue:`Record.${r}`,rightValue:"ComparisonState.SearchTerm",comparator:"ComparisonState.Comparator"},OutputHashAddressMap:{truthinessResult:"keepRecord"}}]},t)})),r.parseString(i),t.keepRecord}return!0}getValueAtAddress(t,e,n){if("object"!=typeof t)return;if("string"!=typeof e)return;let r="";"string"==typeof n&&(r=n);let s=e.indexOf(".");if(-1==s){let n=e.indexOf("["),r=e.indexOf("]"),s=e.indexOf("{}");if(n>0&&r>n&&r-n>1){let s=e.substring(0,n).trim();if("object"!=typeof t[s])return;let i=e.substring(n+1,r).trim(),a=parseInt(i,10);if(Array.isArray(t[s])==isNaN(a))return;return isNaN(a)?(i=this.cleanWrapCharacters('"',i),i=this.cleanWrapCharacters("`",i),i=this.cleanWrapCharacters("'",i),t[s][i]):t[s][a]}if(n>0&&r>n&&r-n==1){let r=e.substring(0,n).trim();if(!Array.isArray(t[r]))return!1;let s=t[r],i=[];for(let t=0;t<s.length;t++){this.checkFilters(e,s[t])&&i.push(s[t])}return i}if(s>0){let n=e.substring(0,s).trim();return"object"==typeof t[n]&&t[n]}return t[e]}{let n=e.substring(0,s),i=e.substring(s+1),a=n.indexOf("["),o=n.indexOf("]");if(a>0&&o>a&&o-a>1){let e=n.substring(0,a).trim(),s=n.substring(a+1,o).trim(),u=parseInt(s,10);if(Array.isArray(t[e])==isNaN(u))return;if("object"!=typeof t[e])return;return isNaN(u)?(s=this.cleanWrapCharacters('"',s),s=this.cleanWrapCharacters("`",s),s=this.cleanWrapCharacters("'",s),r=`${r}${r.length>0?".":""}${n}`,this.getValueAtAddress(t[e][s],i,r)):(r=`${r}${r.length>0?".":""}${n}`,this.getValueAtAddress(t[e][u],i,r))}if(a>0&&o>a&&o-a==1){let n=e.substring(0,a).trim();if(!Array.isArray(t[n]))return!1;let s=t[n];r=`${r}${r.length>0?".":""}${n}`;let o={};for(let e=0;e<s.length;e++){let s=`${r}[${e}]`,a=this.getValueAtAddress(t[n][e],i,s);o[`${s}.${i}`]=a}return o}let u=e.indexOf("{}");if(u>0){let n=e.substring(0,u).trim();if("object"!=typeof t[n])return!1;let s=t[n],a=Object.keys(s);r=`${r}${r.length>0?".":""}${n}`;let o={};for(let s=0;s<a.length;s++){let u=`${r}.${a[s]}`,p=this.getValueAtAddress(t[n][a[s]],i,u);this.checkFilters(e,p)&&(o[`${u}.${i}`]=p)}return o}return t.hasOwnProperty(n)&&"object"!=typeof t[n]?void 0:t.hasOwnProperty(n)?(r=`${r}${r.length>0?".":""}${n}`,this.getValueAtAddress(t[n],i,r)):(r=`${r}${r.length>0?".":""}${n}`,t[n]={},this.getValueAtAddress(t[n],i,r))}}}},{"./Manyfest-CleanWrapCharacters.js":34,"./Manyfest-LogToConsole.js":36,elucidator:4,precedent:44}],40:[function(t,e,n){
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
let r=t("./Manyfest-LogToConsole.js"),s=(t("precedent"),t("./Manyfest-CleanWrapCharacters.js"));e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:r,this.logError="function"==typeof e?e:r,this.elucidatorSolver=!1,this.elucidatorSolverState={},this.cleanWrapCharacters=s}setValueAtAddress(t,e,n){if("object"!=typeof t)return!1;if("string"!=typeof e)return!1;let r=e.indexOf(".");if(-1==r){let r=e.indexOf("["),s=e.indexOf("]");if(r>0&&s>r&&s-r>1){let i=e.substring(0,r).trim();if("object"!=typeof t[i])return!1;let a=e.substring(r+1,s).trim(),o=parseInt(a,10);return Array.isArray(t[i])!=isNaN(o)&&(isNaN(o)?(a=this.cleanWrapCharacters('"',a),a=this.cleanWrapCharacters("`",a),a=this.cleanWrapCharacters("'",a),t[i][a]=n,!0):(t[i][o]=n,!0))}return t[e]=n,!0}{let s=e.substring(0,r),i=e.substring(r+1),a=s.indexOf("["),o=s.indexOf("]");if(a>0&&o>a&&o-a>1){let e=s.substring(0,a).trim(),r=s.substring(a+1,o).trim(),u=parseInt(r,10);return Array.isArray(t[e])!=isNaN(u)&&(isNaN(u)?(r=this.cleanWrapCharacters('"',r),r=this.cleanWrapCharacters("`",r),r=this.cleanWrapCharacters("'",r),this.setValueAtAddress(t[e][r],i,n)):this.setValueAtAddress(t[e][u],i,n))}return t.hasOwnProperty(s)&&"object"!=typeof t[s]?(t.hasOwnProperty("__ERROR")||(t.__ERROR={}),t.__ERROR[e]=n,!1):(t.hasOwnProperty(s)||(t[s]={}),this.setValueAtAddress(t[s],i,n))}}}},{"./Manyfest-CleanWrapCharacters.js":34,"./Manyfest-LogToConsole.js":36,precedent:44}],41:[function(t,e,n){
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
let r=t("./Manyfest-LogToConsole.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:r,this.logError="function"==typeof e?e:r}generateAddressses(t,e,n){let r="string"==typeof e?e:"",s="object"==typeof n?n:{},i=typeof t,a={Address:r,Hash:r,Name:r,InSchema:!1};switch("object"==i&&null==t&&(i="null"),i){case"string":a.DataType="String",a.Default=t,s[r]=a;break;case"number":case"bigint":a.DataType="Number",a.Default=t,s[r]=a;break;case"undefined":case"null":a.DataType="Any",a.Default=t,s[r]=a;break;case"object":if(Array.isArray(t)){a.DataType="Array",""!=r&&(s[r]=a);for(let e=0;e<t.length;e++)this.generateAddressses(t[e],`${r}[${e}]`,s)}else{a.DataType="Object",""!=r&&(s[r]=a,r+=".");let e=Object.keys(t);for(let n=0;n<e.length;n++)this.generateAddressses(t[e[n]],`${r}${e[n]}`,s)}}return s}}},{"./Manyfest-LogToConsole.js":36}],42:[function(t,e,n){
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
let r=t("./Manyfest-LogToConsole.js");e.exports=class{constructor(t,e){this.logInfo="function"==typeof t?t:r,this.logError="function"==typeof e?e:r}resolveAddressMappings(t,e){if("object"!=typeof t)return this.logError("Attempted to resolve address mapping but the descriptor was not an object."),!1;if("object"!=typeof e)return!0;let n=Object.keys(t),r={};return n.forEach((e=>{t[e].hasOwnProperty("Hash")&&(r[t[e].Hash]=e)})),Object.keys(e).forEach((n=>{let s=e[n],i=!1,a=!1;t.hasOwnProperty(n)?i=n:r.hasOwnProperty(n)&&(i=r[n]),i?(a=t[i],delete t[i]):a={Hash:n},t[s]=a})),!0}safeResolveAddressMappings(t,e){let n=JSON.parse(JSON.stringify(t));return this.resolveAddressMappings(n,e),n}mergeAddressMappings(t,e){if("object"!=typeof e||"object"!=typeof t)return this.logError("Attempted to merge two schema descriptors but both were not objects."),!1;let n=JSON.parse(JSON.stringify(e)),r=JSON.parse(JSON.stringify(t));return Object.keys(n).forEach((t=>{r.hasOwnProperty(t)||(r[t]=n[t])})),r}}},{"./Manyfest-LogToConsole.js":36}],43:[function(t,e,n){
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
let r=t("./Manyfest-LogToConsole.js"),s=(t("precedent"),t("./Manyfest-HashTranslation.js")),i=t("./Manyfest-ObjectAddress-CheckAddressExists.js"),a=t("./Manyfest-ObjectAddress-GetValue.js"),o=t("./Manyfest-ObjectAddress-SetValue.js"),u=t("./Manyfest-ObjectAddress-DeleteValue.js"),p=t("./Manyfest-ObjectAddressGeneration.js"),c=t("./Manyfest-SchemaManipulation.js");class l{constructor(t,e,n,l){this.logInfo="function"==typeof e?e:r,this.logError="function"==typeof n?n:r,this.objectAddressCheckAddressExists=new i(this.logInfo,this.logError),this.objectAddressGetValue=new a(this.logInfo,this.logError),this.objectAddressSetValue=new o(this.logInfo,this.logError),this.objectAddressDeleteValue=new u(this.logInfo,this.logError),this.options={strict:!1,defaultValues:{String:"",Number:0,Float:0,Integer:0,Boolean:!1,Binary:0,DateTime:0,Array:[],Object:{},Null:null}},this.scope=void 0,this.elementAddresses=void 0,this.elementHashes=void 0,this.elementDescriptors=void 0,this.dataSolvers=void 0,this.dataSolverState=void 0,this.reset(),"object"==typeof t&&this.loadManifest(t),this.schemaManipulations=new c(this.logInfo,this.logError),this.objectAddressGeneration=new p(this.logInfo,this.logError),this.hashTranslations=new s(this.logInfo,this.logError)}reset(){this.scope="DEFAULT",this.elementAddresses=[],this.elementHashes={},this.elementDescriptors={},this.dataSolvers=void 0,this.dataSolverState={},this.libElucidator=void 0}setElucidatorSolvers(t,e){this.objectAddressCheckAddressExists.elucidatorSolver=t,this.objectAddressGetValue.elucidatorSolver=t,this.objectAddressSetValue.elucidatorSolver=t,this.objectAddressDeleteValue.elucidatorSolver=t,this.objectAddressCheckAddressExists.elucidatorSolverState=e,this.objectAddressGetValue.elucidatorSolverState=e,this.objectAddressSetValue.elucidatorSolverState=e,this.objectAddressDeleteValue.elucidatorSolverState=e}clone(){let t=JSON.parse(JSON.stringify(this.options)),e=new l(this.getManifest(),this.logInfo,this.logError,t);return e.hashTranslations.addTranslation(this.hashTranslations.translationTable),e}deserialize(t){return this.loadManifest(JSON.parse(t))}loadManifest(e){if("object"!=typeof e)return this.logError(`(${this.scope}) Error loading manifest; expecting an object but parameter was type ${typeof e}.`),!1;if(e.hasOwnProperty("Scope")?"string"==typeof e.Scope?this.scope=e.Scope:this.logError(`(${this.scope}) Error loading scope from manifest; expecting a string but property was type ${typeof e.Scope}.`,e):this.logError(`(${this.scope}) Error loading scope from manifest object.  Property "Scope" does not exist in the root of the object.`,e),e.hasOwnProperty("Descriptors"))if("object"==typeof e.Descriptors){let t=Object.keys(e.Descriptors);for(let n=0;n<t.length;n++)this.addDescriptor(t[n],e.Descriptors[t[n]])}else this.logError(`(${this.scope}) Error loading description object from manifest object.  Expecting an object in 'Manifest.Descriptors' but the property was type ${typeof e.Descriptors}.`,e);else this.logError(`(${this.scope}) Error loading object description from manifest object.  Property "Descriptors" does not exist in the root of the Manifest object.`,e);if(e.hasOwnProperty("Solvers")&&"object"==typeof e.Solvers){let n=t("elucidator");this.dataSolvers=new n(e.Solvers,this.logInfo,this.logError);let r=Object.keys(e.Solvers);for(let t=0;t<r.length;t++)this.dataSolverState[r]=e.Solvers[r[t]];this.setElucidatorSolvers(this.dataSolvers,this.dataSolverState)}}serialize(){return JSON.stringify(this.getManifest())}getManifest(){return{Scope:this.scope,Descriptors:JSON.parse(JSON.stringify(this.elementDescriptors))}}addDescriptor(t,e){return"object"==typeof e?(e.hasOwnProperty("Address")||(e.Address=t),this.elementDescriptors.hasOwnProperty(t)||this.elementAddresses.push(t),this.elementDescriptors[t]=e,this.elementHashes[t]=t,e.hasOwnProperty("Hash")?this.elementHashes[e.Hash]=t:e.Hash=t,!0):(this.logError(`(${this.scope}) Error loading object descriptor for address '${t}' from manifest object.  Expecting an object but property was type ${typeof e}.`),!1)}getDescriptorByHash(t){return this.getDescriptor(this.resolveHashAddress(t))}getDescriptor(t){return this.elementDescriptors[t]}eachDescriptor(t){let e=Object.keys(this.elementDescriptors);for(let n=0;n<e.length;n++)t(this.elementDescriptors[e[n]])}checkAddressExistsByHash(t,e){return this.checkAddressExists(t,this.resolveHashAddress(e))}checkAddressExists(t,e){return this.objectAddressCheckAddressExists.checkAddressExists(t,e)}resolveHashAddress(t){let e,n=this.elementHashes.hasOwnProperty(t),r=this.hashTranslations.translationTable.hasOwnProperty(t);return e=n&&!r?this.elementHashes[t]:r&&this.elementHashes.hasOwnProperty(this.hashTranslations.translate(t))?this.elementHashes[this.hashTranslations.translate(t)]:r?this.hashTranslations.translate(t):t,e}getValueByHash(t,e){let n=this.getValueAtAddress(t,this.resolveHashAddress(e));return void 0===n&&(n=this.getDefaultValue(this.getDescriptorByHash(e))),n}getValueAtAddress(t,e){let n=this.objectAddressGetValue.getValueAtAddress(t,e);return void 0===n&&(n=this.getDefaultValue(this.getDescriptor(e))),n}setValueByHash(t,e,n){return this.setValueAtAddress(t,this.resolveHashAddress(e),n)}setValueAtAddress(t,e,n){return this.objectAddressSetValue.setValueAtAddress(t,e,n)}deleteValueByHash(t,e,n){return this.deleteValueAtAddress(t,this.resolveHashAddress(e),n)}deleteValueAtAddress(t,e,n){return this.objectAddressDeleteValue.deleteValueAtAddress(t,e,n)}validate(t){let e={Error:null,Errors:[],MissingElements:[]};"object"!=typeof t&&(e.Error=!0,e.Errors.push("Expected passed in object to be type object but was passed in "+typeof t));let n=(t,n)=>{e.Error=!0,e.Errors.push(`Element at address "${t}" ${n}.`)};for(let r=0;r<this.elementAddresses.length;r++){let s=this.getDescriptor(this.elementAddresses[r]),i=this.checkAddressExists(t,s.Address),a=this.getValueAtAddress(t,s.Address);if(void 0!==a&&i||(e.MissingElements.push(s.Address),(s.Required||this.options.strict)&&n(s.Address,"is flagged REQUIRED but is not set in the object")),s.DataType){let t=typeof a;switch(s.DataType.toString().trim().toLowerCase()){case"string":"string"!=t&&n(s.Address,`has a DataType ${s.DataType} but is of the type ${t}`);break;case"number":"number"!=t&&n(s.Address,`has a DataType ${s.DataType} but is of the type ${t}`);break;case"integer":if("number"!=t)n(s.Address,`has a DataType ${s.DataType} but is of the type ${t}`);else{a.toString().indexOf(".")>-1&&n(s.Address,`has a DataType ${s.DataType} but has a decimal point in the number.`)}break;case"float":"number"!=t&&n(s.Address,`has a DataType ${s.DataType} but is of the type ${t}`);break;case"DateTime":"Invalid Date"==new Date(a).toString()&&n(s.Address,`has a DataType ${s.DataType} but is not parsable as a Date by Javascript`);default:"string"!=t&&n(s.Address,`has a DataType ${s.DataType} (which auto-converted to String because it was unrecognized) but is of the type ${t}`)}}}return e}getDefaultValue(t){if("object"==typeof t){if(t.hasOwnProperty("Default"))return t.Default;{let e=t.hasOwnProperty("DataType")?t.DataType:"String";return this.options.defaultValues.hasOwnProperty(e)?this.options.defaultValues[e]:null}}}populateDefaults(t,e){return this.populateObject(t,e,(t=>t.hasOwnProperty("Default")))}populateObject(t,e,n){let r="object"==typeof t?t:{},s=void 0!==e&&e,i="function"==typeof n?n:t=>!0;return this.elementAddresses.forEach((t=>{let e=this.getDescriptor(t);i(e)&&(!s&&this.checkAddressExists(r,t)||this.setValueAtAddress(r,t,this.getDefaultValue(e)))})),r}}e.exports=l},{"./Manyfest-HashTranslation.js":35,"./Manyfest-LogToConsole.js":36,"./Manyfest-ObjectAddress-CheckAddressExists.js":37,"./Manyfest-ObjectAddress-DeleteValue.js":38,"./Manyfest-ObjectAddress-GetValue.js":39,"./Manyfest-ObjectAddress-SetValue.js":40,"./Manyfest-ObjectAddressGeneration.js":41,"./Manyfest-SchemaManipulation.js":42,elucidator:4,precedent:44}],44:[function(t,e,n){
/**
      * Precedent Meta-Templating
      *
      * @license     MIT
      *
      * @author      Steven Velozo <steven@velozo.com>
      *
      * @description Process text streams, parsing out meta-template expressions.
      */
var r=t("./WordTree.js"),s=t("./StringParser.js");e.exports=class{constructor(){this.WordTree=new r,this.StringParser=new s,this.ParseTree=this.WordTree.ParseTree}addPattern(t,e,n){return this.WordTree.addPattern(t,e,n)}parseString(t){return this.StringParser.parseString(t,this.ParseTree)}}},{"./StringParser.js":45,"./WordTree.js":46}],45:[function(t,e,n){e.exports=
/**
      * String Parser
      *
      * @license     MIT
      *
      * @author      Steven Velozo <steven@velozo.com>
      *
      * @description Parse a string, properly processing each matched token in the word tree.
      */
class{constructor(){}newParserState(t){return{ParseTree:t,Output:"",OutputBuffer:"",Pattern:!1,PatternMatch:!1,PatternMatchOutputBuffer:""}}assignNode(t,e){e.PatternMatch=t,e.PatternMatch.hasOwnProperty("PatternEnd")&&(e.Pattern=e.PatternMatch)}appendOutputBuffer(t,e){e.OutputBuffer+=t}flushOutputBuffer(t){t.Output+=t.OutputBuffer,t.OutputBuffer=""}checkPatternEnd(t){t.OutputBuffer.length>=t.Pattern.PatternEnd.length+t.Pattern.PatternStart.length&&t.OutputBuffer.substr(-t.Pattern.PatternEnd.length)===t.Pattern.PatternEnd&&(t.OutputBuffer=t.Pattern.Parse(t.OutputBuffer.substr(t.Pattern.PatternStart.length,t.OutputBuffer.length-(t.Pattern.PatternStart.length+t.Pattern.PatternEnd.length))),this.flushOutputBuffer(t),t.Pattern=!1,t.PatternMatch=!1)}parseCharacter(t,e){!e.PatternMatch&&e.ParseTree.hasOwnProperty(t)?(this.assignNode(e.ParseTree[t],e),this.appendOutputBuffer(t,e)):e.PatternMatch?(e.PatternMatch.hasOwnProperty(t)&&this.assignNode(e.PatternMatch[t],e),this.appendOutputBuffer(t,e),e.Pattern&&this.checkPatternEnd(e)):e.Output+=t}parseString(t,e){let n=this.newParserState(e);for(var r=0;r<t.length;r++)this.parseCharacter(t[r],n);return this.flushOutputBuffer(n),n.Output}}},{}],46:[function(t,e,n){e.exports=
/**
      * Word Tree
      *
      * @license     MIT
      *
      * @author      Steven Velozo <steven@velozo.com>
      *
      * @description Create a tree (directed graph) of Javascript objects, one character per object.
      */
class{constructor(){this.ParseTree={}}addChild(t,e,n){return t.hasOwnProperty(e[n])||(t[e[n]]={}),t[e[n]]}addPattern(t,e,n){if(t.length<1)return!1;if("string"==typeof e&&e.length<1)return!1;let r=this.ParseTree;for(var s=0;s<t.length;s++)r=this.addChild(r,t,s);return r.PatternStart=t,r.PatternEnd="string"==typeof e&&e.length>0?e:t,r.Parse="function"==typeof n?n:"string"==typeof n?()=>n:t=>t,!0}}},{}],47:[function(t,e,n){
/**
      * @license MIT
      * @author <steven@velozo.com>
      */
var r=t("./Elucidator.js");"object"==typeof window&&(window.Elucidator=r),e.exports=r},{"./Elucidator.js":50}],48:[function(t,e,n){arguments[4][2][0].apply(n,arguments)},{dup:2}],49:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],50:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{"./Elucidator-InstructionSet.js":48,"./Elucidator-LogToConsole.js":49,"./InstructionSets/Geometry.js":51,"./InstructionSets/Logic.js":52,"./InstructionSets/Math-Javascript.js":53,"./InstructionSets/PreciseMath-Decimal.js":77,"./InstructionSets/Set.js":78,"./InstructionSets/String.js":79,dup:4,manyfest:43,precedent:44}],51:[function(t,e,n){arguments[4][5][0].apply(n,arguments)},{"../Elucidator-InstructionSet.js":48,"./Operations/Geometry-RectangleArea.json":54,dup:5}],52:[function(t,e,n){arguments[4][6][0].apply(n,arguments)},{"../Elucidator-InstructionSet.js":48,"./Operations/Logic-Execute.json":55,"./Operations/Logic-If.json":56,dup:6}],53:[function(t,e,n){arguments[4][7][0].apply(n,arguments)},{"../Elucidator-InstructionSet.js":48,"./Operations/Math-Add.json":57,"./Operations/Math-Aggregate.json":58,"./Operations/Math-Divide.json":59,"./Operations/Math-Multiply.json":60,"./Operations/Math-Subtract.json":61,dup:7}],54:[function(t,e,n){arguments[4][8][0].apply(n,arguments)},{dup:8}],55:[function(t,e,n){arguments[4][9][0].apply(n,arguments)},{dup:9}],56:[function(t,e,n){arguments[4][10][0].apply(n,arguments)},{dup:10}],57:[function(t,e,n){arguments[4][11][0].apply(n,arguments)},{dup:11}],58:[function(t,e,n){arguments[4][12][0].apply(n,arguments)},{dup:12}],59:[function(t,e,n){arguments[4][13][0].apply(n,arguments)},{dup:13}],60:[function(t,e,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],61:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],62:[function(t,e,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],63:[function(t,e,n){e.exports={Description:{Namespace:"PreciseMath",Operation:"Aggregate",Synopsis:"Precisely aggregate a set of numbers (from array or object address):  x = a + b + ... + z"},Inputs:{a:{Hash:"a",Type:"Set"},ValueNames:{Hash:"ValueNames",Type:"Set"}},Outputs:{x:{Hash:"x",Type:"Number"}},Log:{PreOperation:"Aggregate all numeric values in {{Name:a}}, storing the resultant in {{Name:x}}.",PostOperation:"Operation complete: {{Name:x}} = {{OutputValue:x}}"},Steps:[{Namespace:"PreciseMath",Instruction:"aggregate"}]}},{}],64:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],65:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],66:[function(t,e,n){arguments[4][20][0].apply(n,arguments)},{dup:20}],67:[function(t,e,n){arguments[4][21][0].apply(n,arguments)},{dup:21}],68:[function(t,e,n){arguments[4][22][0].apply(n,arguments)},{dup:22}],69:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],70:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],71:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],72:[function(t,e,n){arguments[4][26][0].apply(n,arguments)},{dup:26}],73:[function(t,e,n){arguments[4][27][0].apply(n,arguments)},{dup:27}],74:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],75:[function(t,e,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],76:[function(t,e,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],77:[function(t,e,n){arguments[4][31][0].apply(n,arguments)},{"../Elucidator-InstructionSet.js":48,"./Operations/PreciseMath-Add.json":62,"./Operations/PreciseMath-Aggregate.json":63,"./Operations/PreciseMath-Divide.json":64,"./Operations/PreciseMath-GroupValuesAndAggregate.json":65,"./Operations/PreciseMath-Multiply.json":66,"./Operations/PreciseMath-Round.json":67,"./Operations/PreciseMath-SetPrecision.json":68,"./Operations/PreciseMath-SetRoundingMode.json":69,"./Operations/PreciseMath-Subtract.json":70,"./Operations/PreciseMath-ToDecimalPlaces.json":71,"./Operations/PreciseMath-ToSignificantDigits.json":72,"decimal.js":1,dup:31}],78:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{"../Elucidator-InstructionSet.js":48,"./Operations/Set-GroupValuesBy.json":73,dup:32}],79:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{"../Elucidator-InstructionSet.js":48,"./Operations/String-Replace.json":74,"./Operations/String-Substring.json":75,"./Operations/String-Trim.json":76,dup:33}]},{},[47])(47)}));
//# sourceMappingURL=elucidator.compatible.min.js.map
